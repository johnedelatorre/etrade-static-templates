<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Tearsheet</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="bower_components/etrade-bootstrap/dist/css/etrade-bootstrap.css">
    <link rel="stylesheet" href="css/tearsheet.css">
  </head>
  <body>
    <header class="navbar">
        <img src="img/navheader.png" class="fix-align">
    </header>
    <div class="container-wrapper">
      <main class='container width-fix'><!-- container -->
        <section class="content"> 
    <div id="preview" class="preview"></div>
</section>

<section class="content faded-background">
    <section class="container">
      <div class="debug ng-binding" ng-show="debug.enable" ng-bind="debug.content"></div>
      
  <!-- uiView:  --><section data-ui-view="" class="ng-scope"><div data-ng-controller="PortfolioController" data-ng-init="loadPortfolio('all')" class="ng-scope">
    <!-- {{customViews}} -->
    <div class="row">
        <header class="page-header ng-scope">
            <div class="row">
                <div class="col-xs-12 col-sm-6 pull-right text-right disclaimer page-refresh">
                    <span ng-click="" class="et-icon-refresh">Last Refresh January, 01, 1970 12:00 AM ET</span>
                </div>
                <div class="col-xs-12 col-sm-6">
                    <h1 class="page-title" ng-dblclick="clearLocalStorage();">Portfolios</h1>
                </div>
                <div class="col-xs-12 col-sm-6">
                    <ul class="quick-nav list-horizontal pull-right">
                        <li ng-dblclick="clearLocalStorage();"><strong>Portfolios</strong></li>
                        <li><a href="">Watch Lists</a></li>
                        <li><a href="">Orders</a></li>
                        <li><a href="">Transaction History</a></li>
                        <li><a href="">Balances</a></li>
                    </ul>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12 col-sm-auto">
                    <div class="et-select-wrapper ng-scope" style="margin:0" data-ng-controller="AccountSelectorController">
                        <select name="account" id="account" ng-model="accountId" ng-init="loadAccounts()" class="ng-pristine ng-valid">
                            <!-- ngRepeat: account in accounts --><option ng-repeat="account in accounts" value="546f9fc6d664dfcab60fd2b7" class="ng-binding ng-scope">Brokerage - 1024</option><!-- end ngRepeat: account in accounts --><option ng-repeat="account in accounts" value="546f9fc6d664dfcab60fd2b8" class="ng-binding ng-scope">Margin - 5099</option><!-- end ngRepeat: account in accounts -->
                            <option value="other">Other account types</option>
                            <option value="all">All US Brokerage Accounts</option>
                        </select>
                    </div>
                </div>
                <div class="col-xs-12 col-md-6 pull-right text-right control voffset3">
                    <div class="inline-block" style="position: relative" dropdown="">
                        <span type="button" style="cursor:pointer" class="text-muted dropdown-toggle et-icon-help after" data-toggle="dropdown" aria-expanded="false">
                        Help
                        </span>
                        <ul class="dropdown-menu" role="menu">
                            <li><a href="#">Help Center</a></li>
                            <li><a href="#">Learn More (Video)</a></li>
                            <li><a href="#">Learn More (Video 2)</a></li>
                            <li><a href="#">Definition of Terms</a></li>
                            <li><a href="#">Tour This Page</a></li>
                        </ul>
                    </div>
                    <div class="inline-block" style="position:relative" dropdown="">
                        <span type="button" style="cursor: pointer" class="text-muted dropdown-toggle et-icon-print after" data-toggle="dropdown" aria-expanded="false">
                        Print
                        </span>
                        <ul class="dropdown-menu" role="menu">
                            <li><a href="#">Print Collapsed</a></li>
                            <li><a href="#">Print Expanded</a></li>
                        </ul>
                    </div>
                    <!-- <span href="javascript:;" class="et-icon-help text-muted">Help</span> -->
                    <!-- <span href="javascript:;" class="et-icon-print text-muted">Print</span> -->
                    <span href="javascript:;" ng-click="open()" class="et-icon-download after text-muted">Download </span>
                    <span class="et-icon-settings after text-muted ng-scope" style="position:relative" bs-popover="" data-placement="bottom-right" data-template="/modules/portfolio/views/partials/flyouts/settings.client.view.html">Settings </span>
                </div>
            </div>
        </header>
    </div>
    <div class="clearfix">
    </div>
    <section class="clearfix" ng-init="purchasingPowerOpen = true">
        <div ng-show="!purchasingPowerOpen" class="show-purchasing-power col-xs-12 ng-hide"><a class="toggle-link et-icon-chevron-right col-xs-12 rotate" ng-class="{rotate:purchasingPowerOpen}" ng-click="purchasingPowerOpen = !purchasingPowerOpen" aria-label="Toggle Purchasing Power">View Balance Snapshot</a></div>
        <div class="panel purchasing-power row flex" ng-show="portfolioLoaded &amp;&amp; purchasingPowerOpen" style="">
            <button class="close" ng-click="purchasingPowerOpen=false" aria-label="Hide Purchasing Power">Ã—</button>
            <div class="col-xs-12 col-sm-4">
                <div class="row">
                    <div class="col-xs-12 col-sm-auto">
                        <div class="clearfix">
                            <div ng-hide="accountId === 'all'" class="voffset3 label">Net Account Value</div>
                            <div ng-show="accountId === 'all'" class="voffset3 label ng-hide">Net Assets</div>
                            <div class="primary-data-point ng-binding">
                                $3,139,189,550.00
                            </div>
                        </div>
                        <!-- ngIf: accountId !== 'all' --><div class="clearfix ng-scope" ng-if="accountId !== 'all'">
                            <div class="label">Total Gain</div>
                            <div class="pull-right">
                                <span et-change="accountDetails[accountId].totalGainDollar" data-type="'signed-dollar'" class="ng-isolate-scope pos">+$17,877.28</span> <span data-type="'pairedPercent'" et-change="accountDetails[accountId].totalGainPercent" class="ng-isolate-scope pos">(7.18%)</span>
                            </div>
                        </div><!-- end ngIf: accountId !== 'all' -->
                    </div>
                </div>
            </div>
            <!-- This ng-class is a quick hack -->
            <div class="col-xs-12 col-sm-4">
                <div class="col-xs-12 col-sm-auto datapoint-lg" ng-class="{'flex-center':accountId==='all', 'flex':accountId==='all'}">
                    <div class="clearfix">
                        <div class="label">Day's Gain Unrealized</div>
                        <div class="pull-right">
                            <span data-type="'dollar'" et-change="accountDetails[accountId].dayGainDollar" class="day ng-isolate-scope neg">-$6,001.51</span> <span data-type="'pairedPercent'" et-change="accountDetails[accountId].dayGainPercent" class="ng-isolate-scope neg">(-2.20%)</span>
                        </div>
                    </div>
                    <!-- ngIf: accountId !== 'all' --><div class="clearfix ng-scope" ng-if="accountId !== 'all'">
                        <div class="label">Day's Gain Realized</div>
                        <div class="pull-right">
                            <span class="day pos">$100.69 (0.69%)</span>
                        </div>
                    </div><!-- end ngIf: accountId !== 'all' -->
                    <!-- ngIf: accountId !== 'all' --><div class="clearfix ng-scope" ng-if="accountId !== 'all'">
                        <div class="label">Available for Withdrawal <!-- ngIf: accountId==accounts[1]._id --></div>
                        <div class="pull-right ng-binding">$3,883.00</div>
                    </div><!-- end ngIf: accountId !== 'all' -->
                </div>
            </div>
            <!-- ngIf: accountId !== 'all' --><div class="col-xs-12 col-sm-4 ng-scope" ng-if="accountId !== 'all'"><div class="col-xs-12 col-sm-auto">
                <!-- ngIf: accountId==accounts[1]._id -->
                <!-- ngIf: accountId !== accounts[1]._id --><div ng-if="accountId !== accounts[1]._id" class="ng-scope">
                    <div class="label">Cash Purchasing Power<span class="et-icon-help after ng-scope" bs-popover="" data-container="body" data-template="/modules/portfolio/views/partials/flyouts/purchasing-power.client.view.html"></span></div>
                    <div class="pull-right ng-binding">$3,883.00</div>
                </div><!-- end ngIf: accountId !== accounts[1]._id -->
                <!-- ngIf: accountId == accounts[1]._id -->
            </div></div><!-- end ngIf: accountId !== 'all' -->
        </div>
        <div class="clearfix ng-binding">
            
            <!-- <span class="single-tab et-icon-chevron-down after" ng-init="showChart==false" ng-click="showChart = !showChart" ng-class="{rotate180:showChart}">Chart</span> -->
        </div>
        <!-- <img ng-show="showChart" src="/modules/portfolio/img/sampleChart.svg" style="max-width: 100%"> -->
        <div class="row">
            <ul class="nav nav-tabs">
                <li ui-sref-active="active" class="active"><a ui-sref="portfolio.positions" href="#!/portfolio">Positions</a></li>
                <li ui-sref-active="active"><a ui-sref="#">Performance &amp; Value</a></li>
                <li ui-sref-active="active"><a ui-sref="portfolio.margin" href="#!/portfolio/margin">Margin</a></li>
                <li ui-sref-active="active"><a ui-sref="portfolio.gains-losses" href="#!/portfolio/gains-losses">Gains &amp; Losses</a></li>
                <li ui-sref-active="active"><a ui-sref="#">Risk Analyzer</a></li>
                <li ui-sref-active="active"><a ui-sref="portfolio.analysis" href="#!/portfolio/analysis">Portfolio Analyzer</a></li>
                <li ui-sref-active="active"><a ui-sref="portfolio.income" href="#!/portfolio/income">Income Estimator</a></li>
            </ul>
        </div>
        <!-- <div data-ui-view style="border: 1px solid rgb(192, 192, 192); border-top: none;"></div> -->
        <!-- uiView:  --><div data-ui-view="" style="border-top: none" class="ng-scope"><!-- uiView:  --><div data-ui-view="" class="ng-scope"><div class="clearfix voffset3 ng-scope">
    <div class="col-xs-12 col-sm-2">
        <label for="customViews">Your Positions View</label>
        <div class="et-select-wrapper">
      <select name="customViews" id="customViews" ng-model="config.currentView" class="ng-pristine ng-valid"><option value="? number:0 ?"></option>
    <!-- ngRepeat: view in views track by $index --><option ng-repeat="view in views track by $index" ng-value="0" ng-selected="config.currentView === $index" ng-hide="view.name==='Create New View'" class="ng-binding ng-scope" value="0" selected="selected">All Positions</option><!-- end ngRepeat: view in views track by $index --><option ng-repeat="view in views track by $index" ng-value="1" ng-selected="config.currentView === $index" ng-hide="view.name==='Create New View'" class="ng-binding ng-scope" value="1">Options</option><!-- end ngRepeat: view in views track by $index --><option ng-repeat="view in views track by $index" ng-value="2" ng-selected="config.currentView === $index" ng-hide="view.name==='Create New View'" class="ng-binding ng-scope" value="2">Mutual Funds</option><!-- end ngRepeat: view in views track by $index --><option ng-repeat="view in views track by $index" ng-value="3" ng-selected="config.currentView === $index" ng-hide="view.name==='Create New View'" class="ng-binding ng-scope" value="3">Bonds</option><!-- end ngRepeat: view in views track by $index -->
      </select>
        </div>
        <!-- <a ng-click="localStorage.clear();">Clear Views (then</a> -->
    </div>
    <div class="col-xs-12 col-sm-auto">
        <div class="form-control-labelless">
      <a ui-sref="portfolio.positions.customize" class="btn btn-default" href="#!/portfolio/customize">Customize Views</a>
        </div>
    </div>
    <div class="col-xs-12 col-sm-auto">
        <div class="form-control-static form-control-labelless">
      <a ng-click="filters.visible = !filters.visible" class="toggle-link et-icon-chevron-right" ng-class="{rotate:filters.visible}">Filters</a>
        </div>
    </div>
    <div class="col-xs-12 col-sm-auto pull-right" ng-hide="accountId==='all'">
      <button class="btn btn-default form-control-labelless ng-scope" bs-modal="modal" data-template="modules/portfolio/views/modals/edit-lots-modal.client.view.html" data-animation="am-fade-and-slide-top" data-container="body" data-placement="center">Edit Lots</button>
    </div>
</div>
<div class="clearfix animate-show-filters ng-scope ng-hide" ng-show="filters.visible">
    <div class="col-xs-12 col-sm-6 col-md-2">
        <label for="symbolFilter">Symbol / CUSIP</label>
  <input type="text" name="symbolFilter" placeholder="Symbol" ng-model="filters.symbolsString" class="form-control ng-pristine ng-valid">
    </div>
    <div class="col-xs-12 col-sm-6 col-md-2">
      <label for="securityTypes">Security Types</label>
      <div>
        <div class="btn-group btn-group-checkboxes" dropdown="" auto-close="disabled">
                <button type="button" class="btn btn-default dropdown-toggle" dropdown-toggle="" aria-haspopup="true" aria-expanded="false">
                  <div class="selected-items"><!-- ngRepeat: visibleType in securityTypes | visibleSecurities --><span class="selected-dropdown-item ng-binding ng-scope" ng-repeat="visibleType in securityTypes | visibleSecurities">All Securities</span><!-- end ngRepeat: visibleType in securityTypes | visibleSecurities --></div><span class="caret"></span>
                </button>
                <ul class="dropdown-menu" role="menu">
                <!-- This isn't necessarily the best markup, but I wanted to quickly hijack the existing bootstrap styling by wrapping the inputs in an `a` tag -->
                  <!-- ngRepeat: type in securityTypes --><li ng-repeat="type in securityTypes" class="ng-scope"><div class="dropdown-checkbox"><input type="checkbox" ng-model="securityTypes[$index].visible" id="type-stocks" class="ng-pristine ng-valid"><label for="type-stocks" class="ng-binding">Stocks</label></div></li><!-- end ngRepeat: type in securityTypes --><li ng-repeat="type in securityTypes" class="ng-scope"><div class="dropdown-checkbox"><input type="checkbox" ng-model="securityTypes[$index].visible" id="type-options" class="ng-pristine ng-valid"><label for="type-options" class="ng-binding">Options</label></div></li><!-- end ngRepeat: type in securityTypes --><li ng-repeat="type in securityTypes" class="ng-scope"><div class="dropdown-checkbox"><input type="checkbox" ng-model="securityTypes[$index].visible" id="type-etfs" class="ng-pristine ng-valid"><label for="type-etfs" class="ng-binding">ETFs</label></div></li><!-- end ngRepeat: type in securityTypes --><li ng-repeat="type in securityTypes" class="ng-scope"><div class="dropdown-checkbox"><input type="checkbox" ng-model="securityTypes[$index].visible" id="type-mutual" class="ng-pristine ng-valid"><label for="type-mutual" class="ng-binding">Mutual Funds</label></div></li><!-- end ngRepeat: type in securityTypes --><li ng-repeat="type in securityTypes" class="ng-scope"><div class="dropdown-checkbox"><input type="checkbox" ng-model="securityTypes[$index].visible" id="type-bonds" class="ng-pristine ng-valid"><label for="type-bonds" class="ng-binding">Bonds</label></div></li><!-- end ngRepeat: type in securityTypes -->
                </ul>
      </div>
    </div>
    </div>
    <div class="col-xs-12 col-sm-6 col-md-2 ng-hide" ng-show="accountId==='all'">
      <label for="groupBy">Group By</label>
      <div class="et-select-wrapper">
        <select name="groupBy" id="groupBy" class="form-control ng-pristine ng-valid" ng-init="groupByFilter='security'" ng-model="groupByFilter">
          <option value="security">Symbol</option>
          <option value="account">Account</option>
        </select>
      </div>
    </div>
    <!-- <div class="col-xs-12 col-sm-6 col-md-2">
    <label for="sector">Group By</label>
    <div class="et-select-wrapper">
      <select name="sector" id="sector" class="form-control" ng-init="groupByFilter = '!'" ng-model="groupByFilter">
        <option value="!">All Holdings</option>
        <option value="type">Security Type</option>
        <option value="trade">Trade</option>
      </select>
    </div>
        </div>
  <div class="col-xs-12 col-sm-6 col-md-2">
    <div class="label inline-block">&nbsp;</div>
    <div class="form-control-static ">
      <a href="" ng-init="showAdvanced=false" ng-click="showAdvanced = ! showAdvanced" class="et-icon-chevron-down after" ng-class="{rotate180:showAdvanced}">Advanced Filters</a>
    </div>
    </div> -->
</div>
<!--<div class="row" ng-show="showAdvanced">
  <div class="col-xs-12 col-sm-6 col-md-2">
    <label for="sector">Group By</label>
    <div class="et-select-wrapper">
        <select name="sector" id="sector" class="form-control" ng-init="groupByFilter = '!'" ng-model="groupByFilter">
          <option value="!">All Holdings</option>
          <option value="trade">Trade</option>
        </select>
    </div>
        </div>
  <div class="col-xs-12 col-sm-6 col-md-2">
    <label for="sector">Sector</label>
    <div class="et-select-wrapper">
        <select name="sector" id="sector" class="form-control" ng-init="sectorFilter = '!'" ng-model="sectorFilter">
          <option value="!">All</option>
          <option value="healthcare">Healthcare</option>
          <option value="tech">Tech</option>
        </select>
    </div>
        </div>
  <div class="col-xs-12 col-sm-6 col-md-2">
    <label for="marketCap">Market Cap</label>
    <div class="et-select-wrapper">
        <select name="marketCap" id="marketCap" class="form-control" ng-init="marketCapFilter = '!'" ng-model="marketCapFilter">
          <option value="!">All</option>
          <option value="large">Large</option>
          <option value="medium">Medium</option>
          <option value="small">Small</option>
        </select>
    </div>
        </div>
  <div class="col-xs-12 col-sm-6 col-md-2">
    <label for="term">Term</label>
    <div class="et-select-wrapper">
        <select name="term" id="term" class="form-control" ng-init="termFilter = '!'" ng-model="termFilter">
          <option value="!">All</option>
          <option value="shortTerm">Short Term</option>
          <option value="longTerm">Long Term</option>
        </select>
    </div>
        </div>
  <div class="col-xs-12 col-sm-6 col-md-2">
    <div class="label inline-block">&nbsp;</div>
    <div class="form-control-static">
        <a class="et-icon-cancelx after" href="">Reset Filters</a>
    </div>
        </div>
</div>-->
<!--<div class="clearfix voffset3">
  <div class="pull-right col-sm-auto" ng-init="change='dollar'"><span class="form-control-static">View Day's Gain and Total Gain by </span>
  <et-toggle class="btn-group-sm" style="width:auto !important; margin-bottom: 0" ng-model="change" segments="[{value:'dollar',text:'$'},{value:'percent',text:'%'}]"></et-toggle>-->
  <!-- <div class="btn-group segmented toggle">
        <div class="btn-group">
      <button class="btn btn-default" ng-class="{active:change=='dollar'}" ng-click="change='dollar'">$</button>
        </div>
        <div class="switch"></div>
        <div class="btn-group">
      <button class="btn btn-default" ng-class="{active:change=='percent'}" ng-click="change='percent'">%</button>
        </div>
  </div> -->
    <!--    </div>
</div> -->
<!-- <div ng-if="config.currentView == 0" ng-include="'modules/portfolio/views/partials/default-positions-table.client.view.html'" class="row"></div> -->

<!-- Repeat tables if showing all accounts grouped by Account -->
<!-- ngIf: !(groupByFilter ==='account' && accountId === 'all') --><!-- ngInclude: 'modules/portfolio/views/partials/custom-positions-table.client.view.html' --><div ng-if="!(groupByFilter ==='account' &amp;&amp; accountId === 'all')" ng-include="'modules/portfolio/views/partials/custom-positions-table.client.view.html'" class="row ng-scope"><div class="table-scrollable ng-scope">
    <table class="table table-expandable table-striped text-right positions ng-scope" sortable-table="">
        <thead>
            <tr>
                <th class="arrows"><span ng-class="expandIcon" ng-click="toggleAll()" class="et-icon-plus"></span></th>
                <th sort-column="_id" class="active" ng-click="">Symbol</th>
                <!-- <th>{{views[config.currentView]}}</th> -->
                <!-- ngRepeat: column in views[config.currentView].fields --><th ng-repeat="column in views[config.currentView].fields" sort-column="lastTrade" ng-class="config.allOptions[column].align" class="ng-binding ng-scope text-right" ng-click="">Last Price $</th><!-- end ngRepeat: column in views[config.currentView].fields --><th ng-repeat="column in views[config.currentView].fields" sort-column="changeClose" ng-class="config.allOptions[column].align" class="ng-binding ng-scope text-right" ng-click="">Change $</th><!-- end ngRepeat: column in views[config.currentView].fields --><th ng-repeat="column in views[config.currentView].fields" sort-column="changeClosePercentage" ng-class="config.allOptions[column].align" class="ng-binding ng-scope text-right" ng-click="">Change %</th><!-- end ngRepeat: column in views[config.currentView].fields --><th ng-repeat="column in views[config.currentView].fields" sort-column="quantity" ng-class="config.allOptions[column].align" class="ng-binding ng-scope text-right" ng-click="">Quantity #</th><!-- end ngRepeat: column in views[config.currentView].fields --><th ng-repeat="column in views[config.currentView].fields" sort-column="pricePaidPerShare" ng-class="config.allOptions[column].align" class="ng-binding ng-scope text-right" ng-click="">Price Paid $</th><!-- end ngRepeat: column in views[config.currentView].fields --><th ng-repeat="column in views[config.currentView].fields" sort-column="dayGainDollar" ng-class="config.allOptions[column].align" class="ng-binding ng-scope text-right" ng-click="">Day's Gain $</th><!-- end ngRepeat: column in views[config.currentView].fields --><th ng-repeat="column in views[config.currentView].fields" sort-column="dayGainPercent" ng-class="config.allOptions[column].align" class="ng-binding ng-scope text-right" ng-click="">Day's Gain %</th><!-- end ngRepeat: column in views[config.currentView].fields --><th ng-repeat="column in views[config.currentView].fields" sort-column="totalGainDollar" ng-class="config.allOptions[column].align" class="ng-binding ng-scope text-right" ng-click="">Total Gain $</th><!-- end ngRepeat: column in views[config.currentView].fields --><th ng-repeat="column in views[config.currentView].fields" sort-column="totalGainPercent" ng-class="config.allOptions[column].align" class="ng-binding ng-scope text-right" ng-click="">Total Gain %</th><!-- end ngRepeat: column in views[config.currentView].fields --><th ng-repeat="column in views[config.currentView].fields" sort-column="value" ng-class="config.allOptions[column].align" class="ng-binding ng-scope text-right" ng-click="">Value $</th><!-- end ngRepeat: column in views[config.currentView].fields -->
                <th class="text-center open-orders-column">Open<br>Orders</th>
                <th class="text-center actions-column" ng-class="{'all-accounts':accountId=='all'}">Actions</th>
            </tr>
        </thead>
        <!-- ngRepeat: position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse --><tbody ng-repeat="position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse" ng-init="expandedRowsVisible[$index]=false; showQuote=false;" id="00206RAM4-position" ng-class="position.lots[0].lotType" class="ng-scope bond">
            <tr ng-click="toggleRow($event, $index)">
                <td class="arrows"><span class="arrow et-icon-chevron-right" ng-class="expandedRowsVisible[$index] ? 'rotate' : ''"></span></td>
                <td class="text-left">
                    <a et-quick-quote="position" symbol="position._id" href="" ng-class="{'special-event':position._id==='AAPL'}" class="ng-binding ng-isolate-scope">00206RAM4</a>
                </td>
                <!-- ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="lastTrade text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">98.00</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClose text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">0.00</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClosePercentage text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">0.00</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="quantity text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">25000</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="pricePaidPerShare text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">35.01</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">0.00</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">0.00</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">0.00</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">0.00</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="value text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">24,500.00</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields -->
                <td class="text-center">
                    <!-- <a ng-switch-when="0" ng-if="openOrdersForSymbol(position._id).length" href="#" scroll-to="open-orders" callback-before="beforeScroll" callback-after="afterScroll" ng-click="filters.showOpenOrders=true; filters.openOrders=position._id;" class="badge badge-red">{{openOrdersForSymbol(position._id).length}}</a> -->
                    <!-- ngIf: openOrdersForSymbol(position._id).length -->
                </td>
                <td class="btn-cell actions-column"><!--TODO: refactor this into controller or something-->
                <!-- This is wrapping the spans because of a nowrap/overflow issue coming into play with in the money background color not spanning the whole row -->
                <div class="actions-column">
                    <span ng-class="{'et-icon-bell-alt':!hasAlerts, 'et-icon-bell':hasAlerts}" title="Add Alert" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-alerts.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-alerts="00206RAM4" class="ng-scope et-icon-bell-alt"></span>
                    <span ng-class="{'et-icon-document-alt':!note, 'et-icon-document':note}" title="Add Note" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-note.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-note="00206RAM4" class="ng-scope et-icon-document-alt"></span>
                    <div class="btn-group ng-isolate-scope" dropdown="" ng-show="accountId !=='all'" lot-type="position.lots[0].lotType">
    <!-- There are a few extra unassigned ng-clicks below to prevent the lot row from expanding. See  $scope.toggleRow in portfolio.client.controller.js't  -->
    <button type="button" class="btn btn-success btn-xs" ng-click="setTradeSegue(position)" ui-sref="trade" href="#!/trade">Trade</button>
    <button type="button" class="btn btn-success btn-xs dropdown-toggle" data-toggle="dropdown" aria-expanded="false" ng-click="">
    <span class="caret" ng-click=""></span>
    <span class="sr-only">Toggle Dropdown</span>
    </button>
    <ul class="dropdown-menu" role="menu">
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'buy')" ui-sref="trade" href="#!/trade">Buy</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'sell')" ui-sref="trade" href="#!/trade">Sell</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='mutual-fund' && lotType!=='option' -->
    </ul>
</div>
                </div>
            </td>
        </tr>
        <!-- ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots -->
        <!-- This tr is vestigial from when table rows were going to have 2 ways to expand. -->
            <!-- ngIf: showQuote -->
        </tbody><!-- end ngRepeat: position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse --><tbody ng-repeat="position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse" ng-init="expandedRowsVisible[$index]=false; showQuote=false;" id="A-position" ng-class="position.lots[0].lotType" class="ng-scope stock">
            <tr ng-click="toggleRow($event, $index)">
                <td class="arrows"><span class="arrow et-icon-chevron-right" ng-class="expandedRowsVisible[$index] ? 'rotate' : ''"></span></td>
                <td class="text-left">
                    <a et-quick-quote="position" symbol="position._id" href="" ng-class="{'special-event':position._id==='AAPL'}" class="ng-binding ng-isolate-scope">A</a>
                </td>
                <!-- ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="lastTrade text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">0.00</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClose text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">0.00</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClosePercentage text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">0.00</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="quantity text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">3</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="pricePaidPerShare text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">38.45</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">0.00</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope"></span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-115.35</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope"></span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="value text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">0.00</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields -->
                <td class="text-center">
                    <!-- <a ng-switch-when="0" ng-if="openOrdersForSymbol(position._id).length" href="#" scroll-to="open-orders" callback-before="beforeScroll" callback-after="afterScroll" ng-click="filters.showOpenOrders=true; filters.openOrders=position._id;" class="badge badge-red">{{openOrdersForSymbol(position._id).length}}</a> -->
                    <!-- ngIf: openOrdersForSymbol(position._id).length -->
                </td>
                <td class="btn-cell actions-column"><!--TODO: refactor this into controller or something-->
                <!-- This is wrapping the spans because of a nowrap/overflow issue coming into play with in the money background color not spanning the whole row -->
                <div class="actions-column">
                    <span ng-class="{'et-icon-bell-alt':!hasAlerts, 'et-icon-bell':hasAlerts}" title="Add Alert" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-alerts.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-alerts="A" class="ng-scope et-icon-bell-alt"></span>
                    <span ng-class="{'et-icon-document-alt':!note, 'et-icon-document':note}" title="Add Note" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-note.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-note="A" class="ng-scope et-icon-document-alt"></span>
                    <div class="btn-group ng-isolate-scope" dropdown="" ng-show="accountId !=='all'" lot-type="position.lots[0].lotType">
    <!-- There are a few extra unassigned ng-clicks below to prevent the lot row from expanding. See  $scope.toggleRow in portfolio.client.controller.js't  -->
    <button type="button" class="btn btn-success btn-xs" ng-click="setTradeSegue(position)" ui-sref="trade" href="#!/trade">Trade</button>
    <button type="button" class="btn btn-success btn-xs dropdown-toggle" data-toggle="dropdown" aria-expanded="false" ng-click="">
    <span class="caret" ng-click=""></span>
    <span class="sr-only">Toggle Dropdown</span>
    </button>
    <ul class="dropdown-menu" role="menu">
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'buy')" ui-sref="trade" href="#!/trade">Buy</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'sell')" ui-sref="trade" href="#!/trade">Sell</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='mutual-fund' && lotType!=='option' -->
    </ul>
</div>
                </div>
            </td>
        </tr>
        <!-- ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots -->
        <!-- This tr is vestigial from when table rows were going to have 2 ways to expand. -->
            <!-- ngIf: showQuote -->
        </tbody><!-- end ngRepeat: position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse --><tbody ng-repeat="position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse" ng-init="expandedRowsVisible[$index]=false; showQuote=false;" id="AA-position" ng-class="position.lots[0].lotType" class="ng-scope stock">
            <tr ng-click="toggleRow($event, $index)">
                <td class="arrows"><span class="arrow et-icon-chevron-right" ng-class="expandedRowsVisible[$index] ? 'rotate' : ''"></span></td>
                <td class="text-left">
                    <a et-quick-quote="position" symbol="position._id" href="" ng-class="{'special-event':position._id==='AAPL'}" class="ng-binding ng-isolate-scope">AA</a>
                </td>
                <!-- ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="lastTrade text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">9.57</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClose text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-0.33</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClosePercentage text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-3.33</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="quantity text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">2</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="pricePaidPerShare text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">10.01</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-0.66</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-3.33</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-0.88</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-4.60</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="value text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">19.14</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields -->
                <td class="text-center">
                    <!-- <a ng-switch-when="0" ng-if="openOrdersForSymbol(position._id).length" href="#" scroll-to="open-orders" callback-before="beforeScroll" callback-after="afterScroll" ng-click="filters.showOpenOrders=true; filters.openOrders=position._id;" class="badge badge-red">{{openOrdersForSymbol(position._id).length}}</a> -->
                    <!-- ngIf: openOrdersForSymbol(position._id).length --><a class="ng-scope ng-binding" ng-click="filters.openOrders=position._id;" ng-if="openOrdersForSymbol(position._id).length" href="" data-template="/modules/portfolio/views/partials/open-orders-modal.client.view.html" data-placement="bottom-right" data-animation="am-fade-and-slide-top" data-auto-close="1" bs-popover="">2</a><!-- end ngIf: openOrdersForSymbol(position._id).length -->
                </td>
                <td class="btn-cell actions-column"><!--TODO: refactor this into controller or something-->
                <!-- This is wrapping the spans because of a nowrap/overflow issue coming into play with in the money background color not spanning the whole row -->
                <div class="actions-column">
                    <span ng-class="{'et-icon-bell-alt':!hasAlerts, 'et-icon-bell':hasAlerts}" title="Add Alert" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-alerts.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-alerts="AA" class="ng-scope et-icon-bell-alt"></span>
                    <span ng-class="{'et-icon-document-alt':!note, 'et-icon-document':note}" title="Add Note" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-note.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-note="AA" class="ng-scope et-icon-document-alt"></span>
                    <div class="btn-group ng-isolate-scope" dropdown="" ng-show="accountId !=='all'" lot-type="position.lots[0].lotType">
    <!-- There are a few extra unassigned ng-clicks below to prevent the lot row from expanding. See  $scope.toggleRow in portfolio.client.controller.js't  -->
    <button type="button" class="btn btn-success btn-xs" ng-click="setTradeSegue(position)" ui-sref="trade" href="#!/trade">Trade</button>
    <button type="button" class="btn btn-success btn-xs dropdown-toggle" data-toggle="dropdown" aria-expanded="false" ng-click="">
    <span class="caret" ng-click=""></span>
    <span class="sr-only">Toggle Dropdown</span>
    </button>
    <ul class="dropdown-menu" role="menu">
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'buy')" ui-sref="trade" href="#!/trade">Buy</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'sell')" ui-sref="trade" href="#!/trade">Sell</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='mutual-fund' && lotType!=='option' -->
    </ul>
</div>
                </div>
            </td>
        </tr>
        <!-- ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots -->
        <!-- This tr is vestigial from when table rows were going to have 2 ways to expand. -->
            <!-- ngIf: showQuote -->
        </tbody><!-- end ngRepeat: position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse --><tbody ng-repeat="position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse" ng-init="expandedRowsVisible[$index]=false; showQuote=false;" id="AAPL-position" ng-class="position.lots[0].lotType" class="ng-scope stock">
            <tr ng-click="toggleRow($event, $index)">
                <td class="arrows"><span class="arrow et-icon-chevron-right" ng-class="expandedRowsVisible[$index] ? 'rotate' : ''"></span></td>
                <td class="text-left">
                    <a et-quick-quote="position" symbol="position._id" href="" ng-class="{'special-event':position._id==='AAPL'}" class="ng-binding ng-isolate-scope special-event">AAPL</a>
                </td>
                <!-- ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="lastTrade text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">113.26</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClose text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-1.95</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClosePercentage text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-1.69</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="quantity text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">528</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="pricePaidPerShare text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">94.92</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-1,027.91</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-1.69</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope pos">10,024.71</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope pos">16.76</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="value text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">59,802.97</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields -->
                <td class="text-center">
                    <!-- <a ng-switch-when="0" ng-if="openOrdersForSymbol(position._id).length" href="#" scroll-to="open-orders" callback-before="beforeScroll" callback-after="afterScroll" ng-click="filters.showOpenOrders=true; filters.openOrders=position._id;" class="badge badge-red">{{openOrdersForSymbol(position._id).length}}</a> -->
                    <!-- ngIf: openOrdersForSymbol(position._id).length --><a class="ng-scope ng-binding" ng-click="filters.openOrders=position._id;" ng-if="openOrdersForSymbol(position._id).length" href="" data-template="/modules/portfolio/views/partials/open-orders-modal.client.view.html" data-placement="bottom-right" data-animation="am-fade-and-slide-top" data-auto-close="1" bs-popover="">4</a><!-- end ngIf: openOrdersForSymbol(position._id).length -->
                </td>
                <td class="btn-cell actions-column"><!--TODO: refactor this into controller or something-->
                <!-- This is wrapping the spans because of a nowrap/overflow issue coming into play with in the money background color not spanning the whole row -->
                <div class="actions-column">
                    <span ng-class="{'et-icon-bell-alt':!hasAlerts, 'et-icon-bell':hasAlerts}" title="Add Alert" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-alerts.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-alerts="AAPL" class="ng-scope et-icon-bell-alt"></span>
                    <span ng-class="{'et-icon-document-alt':!note, 'et-icon-document':note}" title="Add Note" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-note.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-note="AAPL" class="ng-scope et-icon-document-alt"></span>
                    <div class="btn-group ng-isolate-scope" dropdown="" ng-show="accountId !=='all'" lot-type="position.lots[0].lotType">
    <!-- There are a few extra unassigned ng-clicks below to prevent the lot row from expanding. See  $scope.toggleRow in portfolio.client.controller.js't  -->
    <button type="button" class="btn btn-success btn-xs" ng-click="setTradeSegue(position)" ui-sref="trade" href="#!/trade">Trade</button>
    <button type="button" class="btn btn-success btn-xs dropdown-toggle" data-toggle="dropdown" aria-expanded="false" ng-click="">
    <span class="caret" ng-click=""></span>
    <span class="sr-only">Toggle Dropdown</span>
    </button>
    <ul class="dropdown-menu" role="menu">
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'buy')" ui-sref="trade" href="#!/trade">Buy</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'sell')" ui-sref="trade" href="#!/trade">Sell</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='mutual-fund' && lotType!=='option' -->
    </ul>
</div>
                </div>
            </td>
        </tr>
        <!-- ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots -->
        <!-- This tr is vestigial from when table rows were going to have 2 ways to expand. -->
            <!-- ngIf: showQuote -->
        </tbody><!-- end ngRepeat: position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse --><tbody ng-repeat="position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse" ng-init="expandedRowsVisible[$index]=false; showQuote=false;" id="AIG-position" ng-class="position.lots[0].lotType" class="ng-scope stock">
            <tr ng-click="toggleRow($event, $index)">
                <td class="arrows"><span class="arrow et-icon-chevron-right" ng-class="expandedRowsVisible[$index] ? 'rotate' : ''"></span></td>
                <td class="text-left">
                    <a et-quick-quote="position" symbol="position._id" href="" ng-class="{'special-event':position._id==='AAPL'}" class="ng-binding ng-isolate-scope">AIG</a>
                </td>
                <!-- ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="lastTrade text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">57.13</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClose text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-0.90</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClosePercentage text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-1.55</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="quantity text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">8</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="pricePaidPerShare text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">55.53</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-7.20</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-1.55</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope pos">12.80</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope pos">2.80</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="value text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">457.04</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields -->
                <td class="text-center">
                    <!-- <a ng-switch-when="0" ng-if="openOrdersForSymbol(position._id).length" href="#" scroll-to="open-orders" callback-before="beforeScroll" callback-after="afterScroll" ng-click="filters.showOpenOrders=true; filters.openOrders=position._id;" class="badge badge-red">{{openOrdersForSymbol(position._id).length}}</a> -->
                    <!-- ngIf: openOrdersForSymbol(position._id).length --><a class="ng-scope ng-binding" ng-click="filters.openOrders=position._id;" ng-if="openOrdersForSymbol(position._id).length" href="" data-template="/modules/portfolio/views/partials/open-orders-modal.client.view.html" data-placement="bottom-right" data-animation="am-fade-and-slide-top" data-auto-close="1" bs-popover="">5</a><!-- end ngIf: openOrdersForSymbol(position._id).length -->
                </td>
                <td class="btn-cell actions-column"><!--TODO: refactor this into controller or something-->
                <!-- This is wrapping the spans because of a nowrap/overflow issue coming into play with in the money background color not spanning the whole row -->
                <div class="actions-column">
                    <span ng-class="{'et-icon-bell-alt':!hasAlerts, 'et-icon-bell':hasAlerts}" title="Add Alert" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-alerts.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-alerts="AIG" class="ng-scope et-icon-bell-alt"></span>
                    <span ng-class="{'et-icon-document-alt':!note, 'et-icon-document':note}" title="Add Note" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-note.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-note="AIG" class="ng-scope et-icon-document-alt"></span>
                    <div class="btn-group ng-isolate-scope" dropdown="" ng-show="accountId !=='all'" lot-type="position.lots[0].lotType">
    <!-- There are a few extra unassigned ng-clicks below to prevent the lot row from expanding. See  $scope.toggleRow in portfolio.client.controller.js't  -->
    <button type="button" class="btn btn-success btn-xs" ng-click="setTradeSegue(position)" ui-sref="trade" href="#!/trade">Trade</button>
    <button type="button" class="btn btn-success btn-xs dropdown-toggle" data-toggle="dropdown" aria-expanded="false" ng-click="">
    <span class="caret" ng-click=""></span>
    <span class="sr-only">Toggle Dropdown</span>
    </button>
    <ul class="dropdown-menu" role="menu">
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'buy')" ui-sref="trade" href="#!/trade">Buy</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'sell')" ui-sref="trade" href="#!/trade">Sell</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='mutual-fund' && lotType!=='option' -->
    </ul>
</div>
                </div>
            </td>
        </tr>
        <!-- ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots -->
        <!-- This tr is vestigial from when table rows were going to have 2 ways to expand. -->
            <!-- ngIf: showQuote -->
        </tbody><!-- end ngRepeat: position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse --><tbody ng-repeat="position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse" ng-init="expandedRowsVisible[$index]=false; showQuote=false;" id="CAT-position" ng-class="position.lots[0].lotType" class="ng-scope stock">
            <tr ng-click="toggleRow($event, $index)">
                <td class="arrows"><span class="arrow et-icon-chevron-right" ng-class="expandedRowsVisible[$index] ? 'rotate' : ''"></span></td>
                <td class="text-left">
                    <a et-quick-quote="position" symbol="position._id" href="" ng-class="{'special-event':position._id==='AAPL'}" class="ng-binding ng-isolate-scope">CAT</a>
                </td>
                <!-- ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="lastTrade text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">71.03</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClose text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-1.13</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClosePercentage text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-1.57</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="quantity text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">4</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="pricePaidPerShare text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">79.89</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-4.52</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-1.57</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-35.44</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-12.47</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="value text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">284.12</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields -->
                <td class="text-center">
                    <!-- <a ng-switch-when="0" ng-if="openOrdersForSymbol(position._id).length" href="#" scroll-to="open-orders" callback-before="beforeScroll" callback-after="afterScroll" ng-click="filters.showOpenOrders=true; filters.openOrders=position._id;" class="badge badge-red">{{openOrdersForSymbol(position._id).length}}</a> -->
                    <!-- ngIf: openOrdersForSymbol(position._id).length -->
                </td>
                <td class="btn-cell actions-column"><!--TODO: refactor this into controller or something-->
                <!-- This is wrapping the spans because of a nowrap/overflow issue coming into play with in the money background color not spanning the whole row -->
                <div class="actions-column">
                    <span ng-class="{'et-icon-bell-alt':!hasAlerts, 'et-icon-bell':hasAlerts}" title="Add Alert" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-alerts.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-alerts="CAT" class="ng-scope et-icon-bell-alt"></span>
                    <span ng-class="{'et-icon-document-alt':!note, 'et-icon-document':note}" title="Add Note" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-note.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-note="CAT" class="ng-scope et-icon-document-alt"></span>
                    <div class="btn-group ng-isolate-scope" dropdown="" ng-show="accountId !=='all'" lot-type="position.lots[0].lotType">
    <!-- There are a few extra unassigned ng-clicks below to prevent the lot row from expanding. See  $scope.toggleRow in portfolio.client.controller.js't  -->
    <button type="button" class="btn btn-success btn-xs" ng-click="setTradeSegue(position)" ui-sref="trade" href="#!/trade">Trade</button>
    <button type="button" class="btn btn-success btn-xs dropdown-toggle" data-toggle="dropdown" aria-expanded="false" ng-click="">
    <span class="caret" ng-click=""></span>
    <span class="sr-only">Toggle Dropdown</span>
    </button>
    <ul class="dropdown-menu" role="menu">
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'buy')" ui-sref="trade" href="#!/trade">Buy</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'sell')" ui-sref="trade" href="#!/trade">Sell</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='mutual-fund' && lotType!=='option' -->
    </ul>
</div>
                </div>
            </td>
        </tr>
        <!-- ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots -->
        <!-- This tr is vestigial from when table rows were going to have 2 ways to expand. -->
            <!-- ngIf: showQuote -->
        </tbody><!-- end ngRepeat: position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse --><tbody ng-repeat="position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse" ng-init="expandedRowsVisible[$index]=false; showQuote=false;" id="FB-position" ng-class="position.lots[0].lotType" class="ng-scope stock">
            <tr ng-click="toggleRow($event, $index)">
                <td class="arrows"><span class="arrow et-icon-chevron-right" ng-class="expandedRowsVisible[$index] ? 'rotate' : ''"></span></td>
                <td class="text-left">
                    <a et-quick-quote="position" symbol="position._id" href="" ng-class="{'special-event':position._id==='AAPL'}" class="ng-binding ng-isolate-scope">FB</a>
                </td>
                <!-- ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="lastTrade text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">92.84</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClose text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-2.71</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClosePercentage text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-2.83</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="quantity text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">33</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="pricePaidPerShare text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">82.05</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-89.27</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-2.83</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope pos">475.37</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope pos">15.52</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="value text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">3,063.88</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields -->
                <td class="text-center">
                    <!-- <a ng-switch-when="0" ng-if="openOrdersForSymbol(position._id).length" href="#" scroll-to="open-orders" callback-before="beforeScroll" callback-after="afterScroll" ng-click="filters.showOpenOrders=true; filters.openOrders=position._id;" class="badge badge-red">{{openOrdersForSymbol(position._id).length}}</a> -->
                    <!-- ngIf: openOrdersForSymbol(position._id).length --><a class="ng-scope ng-binding" ng-click="filters.openOrders=position._id;" ng-if="openOrdersForSymbol(position._id).length" href="" data-template="/modules/portfolio/views/partials/open-orders-modal.client.view.html" data-placement="bottom-right" data-animation="am-fade-and-slide-top" data-auto-close="1" bs-popover="">1</a><!-- end ngIf: openOrdersForSymbol(position._id).length -->
                </td>
                <td class="btn-cell actions-column"><!--TODO: refactor this into controller or something-->
                <!-- This is wrapping the spans because of a nowrap/overflow issue coming into play with in the money background color not spanning the whole row -->
                <div class="actions-column">
                    <span ng-class="{'et-icon-bell-alt':!hasAlerts, 'et-icon-bell':hasAlerts}" title="Add Alert" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-alerts.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-alerts="FB" class="ng-scope et-icon-bell"></span>
                    <span ng-class="{'et-icon-document-alt':!note, 'et-icon-document':note}" title="Add Note" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-note.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-note="FB" class="ng-scope et-icon-document-alt"></span>
                    <div class="btn-group ng-isolate-scope" dropdown="" ng-show="accountId !=='all'" lot-type="position.lots[0].lotType">
    <!-- There are a few extra unassigned ng-clicks below to prevent the lot row from expanding. See  $scope.toggleRow in portfolio.client.controller.js't  -->
    <button type="button" class="btn btn-success btn-xs" ng-click="setTradeSegue(position)" ui-sref="trade" href="#!/trade">Trade</button>
    <button type="button" class="btn btn-success btn-xs dropdown-toggle" data-toggle="dropdown" aria-expanded="false" ng-click="">
    <span class="caret" ng-click=""></span>
    <span class="sr-only">Toggle Dropdown</span>
    </button>
    <ul class="dropdown-menu" role="menu">
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'buy')" ui-sref="trade" href="#!/trade">Buy</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'sell')" ui-sref="trade" href="#!/trade">Sell</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='mutual-fund' && lotType!=='option' -->
    </ul>
</div>
                </div>
            </td>
        </tr>
        <!-- ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots -->
        <!-- This tr is vestigial from when table rows were going to have 2 ways to expand. -->
            <!-- ngIf: showQuote -->
        </tbody><!-- end ngRepeat: position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse --><tbody ng-repeat="position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse" ng-init="expandedRowsVisible[$index]=false; showQuote=false;" id="GE-position" ng-class="position.lots[0].lotType" class="ng-scope stock">
            <tr ng-click="toggleRow($event, $index)">
                <td class="arrows"><span class="arrow et-icon-chevron-right" ng-class="expandedRowsVisible[$index] ? 'rotate' : ''"></span></td>
                <td class="text-left">
                    <a et-quick-quote="position" symbol="position._id" href="" ng-class="{'special-event':position._id==='AAPL'}" class="ng-binding ng-isolate-scope">GE</a>
                </td>
                <!-- ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="lastTrade text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">24.75</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClose text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-0.34</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClosePercentage text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-1.36</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="quantity text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">90</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="pricePaidPerShare text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">26.96</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-30.60</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-1.36</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-132.72</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-5.96</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="value text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">2,227.50</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields -->
                <td class="text-center">
                    <!-- <a ng-switch-when="0" ng-if="openOrdersForSymbol(position._id).length" href="#" scroll-to="open-orders" callback-before="beforeScroll" callback-after="afterScroll" ng-click="filters.showOpenOrders=true; filters.openOrders=position._id;" class="badge badge-red">{{openOrdersForSymbol(position._id).length}}</a> -->
                    <!-- ngIf: openOrdersForSymbol(position._id).length -->
                </td>
                <td class="btn-cell actions-column"><!--TODO: refactor this into controller or something-->
                <!-- This is wrapping the spans because of a nowrap/overflow issue coming into play with in the money background color not spanning the whole row -->
                <div class="actions-column">
                    <span ng-class="{'et-icon-bell-alt':!hasAlerts, 'et-icon-bell':hasAlerts}" title="Add Alert" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-alerts.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-alerts="GE" class="ng-scope et-icon-bell-alt"></span>
                    <span ng-class="{'et-icon-document-alt':!note, 'et-icon-document':note}" title="Add Note" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-note.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-note="GE" class="ng-scope et-icon-document-alt"></span>
                    <div class="btn-group ng-isolate-scope" dropdown="" ng-show="accountId !=='all'" lot-type="position.lots[0].lotType">
    <!-- There are a few extra unassigned ng-clicks below to prevent the lot row from expanding. See  $scope.toggleRow in portfolio.client.controller.js't  -->
    <button type="button" class="btn btn-success btn-xs" ng-click="setTradeSegue(position)" ui-sref="trade" href="#!/trade">Trade</button>
    <button type="button" class="btn btn-success btn-xs dropdown-toggle" data-toggle="dropdown" aria-expanded="false" ng-click="">
    <span class="caret" ng-click=""></span>
    <span class="sr-only">Toggle Dropdown</span>
    </button>
    <ul class="dropdown-menu" role="menu">
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'buy')" ui-sref="trade" href="#!/trade">Buy</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'sell')" ui-sref="trade" href="#!/trade">Sell</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='mutual-fund' && lotType!=='option' -->
    </ul>
</div>
                </div>
            </td>
        </tr>
        <!-- ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots -->
        <!-- This tr is vestigial from when table rows were going to have 2 ways to expand. -->
            <!-- ngIf: showQuote -->
        </tbody><!-- end ngRepeat: position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse --><tbody ng-repeat="position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse" ng-init="expandedRowsVisible[$index]=false; showQuote=false;" id="GM-position" ng-class="position.lots[0].lotType" class="ng-scope stock">
            <tr ng-click="toggleRow($event, $index)">
                <td class="arrows"><span class="arrow et-icon-chevron-right" ng-class="expandedRowsVisible[$index] ? 'rotate' : ''"></span></td>
                <td class="text-left">
                    <a et-quick-quote="position" symbol="position._id" href="" ng-class="{'special-event':position._id==='AAPL'}" class="ng-binding ng-isolate-scope">GM</a>
                </td>
                <!-- ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="lastTrade text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">29.83</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClose text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-0.79</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClosePercentage text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-2.58</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="quantity text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">10</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="pricePaidPerShare text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">38.84</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-7.90</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-2.58</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-90.10</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-30.20</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="value text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">298.30</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields -->
                <td class="text-center">
                    <!-- <a ng-switch-when="0" ng-if="openOrdersForSymbol(position._id).length" href="#" scroll-to="open-orders" callback-before="beforeScroll" callback-after="afterScroll" ng-click="filters.showOpenOrders=true; filters.openOrders=position._id;" class="badge badge-red">{{openOrdersForSymbol(position._id).length}}</a> -->
                    <!-- ngIf: openOrdersForSymbol(position._id).length -->
                </td>
                <td class="btn-cell actions-column"><!--TODO: refactor this into controller or something-->
                <!-- This is wrapping the spans because of a nowrap/overflow issue coming into play with in the money background color not spanning the whole row -->
                <div class="actions-column">
                    <span ng-class="{'et-icon-bell-alt':!hasAlerts, 'et-icon-bell':hasAlerts}" title="Add Alert" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-alerts.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-alerts="GM" class="ng-scope et-icon-bell-alt"></span>
                    <span ng-class="{'et-icon-document-alt':!note, 'et-icon-document':note}" title="Add Note" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-note.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-note="GM" class="ng-scope et-icon-document-alt"></span>
                    <div class="btn-group ng-isolate-scope" dropdown="" ng-show="accountId !=='all'" lot-type="position.lots[0].lotType">
    <!-- There are a few extra unassigned ng-clicks below to prevent the lot row from expanding. See  $scope.toggleRow in portfolio.client.controller.js't  -->
    <button type="button" class="btn btn-success btn-xs" ng-click="setTradeSegue(position)" ui-sref="trade" href="#!/trade">Trade</button>
    <button type="button" class="btn btn-success btn-xs dropdown-toggle" data-toggle="dropdown" aria-expanded="false" ng-click="">
    <span class="caret" ng-click=""></span>
    <span class="sr-only">Toggle Dropdown</span>
    </button>
    <ul class="dropdown-menu" role="menu">
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'buy')" ui-sref="trade" href="#!/trade">Buy</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'sell')" ui-sref="trade" href="#!/trade">Sell</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='mutual-fund' && lotType!=='option' -->
    </ul>
</div>
                </div>
            </td>
        </tr>
        <!-- ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots -->
        <!-- This tr is vestigial from when table rows were going to have 2 ways to expand. -->
            <!-- ngIf: showQuote -->
        </tbody><!-- end ngRepeat: position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse --><tbody ng-repeat="position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse" ng-init="expandedRowsVisible[$index]=false; showQuote=false;" id="GOOG-position" ng-class="position.lots[0].lotType" class="ng-scope stock">
            <tr ng-click="toggleRow($event, $index)">
                <td class="arrows"><span class="arrow et-icon-chevron-right" ng-class="expandedRowsVisible[$index] ? 'rotate' : ''"></span></td>
                <td class="text-left">
                    <a et-quick-quote="position" symbol="position._id" href="" ng-class="{'special-event':position._id==='AAPL'}" class="ng-binding ng-isolate-scope">GOOG</a>
                </td>
                <!-- ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="lastTrade text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">620.26</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClose text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-15.18</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClosePercentage text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-2.39</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="quantity text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">221</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="pricePaidPerShare text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">590.88</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-3,354.78</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-2.39</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope pos">2,676.99</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope pos">1.95</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="value text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">137,077.46</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields -->
                <td class="text-center">
                    <!-- <a ng-switch-when="0" ng-if="openOrdersForSymbol(position._id).length" href="#" scroll-to="open-orders" callback-before="beforeScroll" callback-after="afterScroll" ng-click="filters.showOpenOrders=true; filters.openOrders=position._id;" class="badge badge-red">{{openOrdersForSymbol(position._id).length}}</a> -->
                    <!-- ngIf: openOrdersForSymbol(position._id).length --><a class="ng-scope ng-binding" ng-click="filters.openOrders=position._id;" ng-if="openOrdersForSymbol(position._id).length" href="" data-template="/modules/portfolio/views/partials/open-orders-modal.client.view.html" data-placement="bottom-right" data-animation="am-fade-and-slide-top" data-auto-close="1" bs-popover="">1</a><!-- end ngIf: openOrdersForSymbol(position._id).length -->
                </td>
                <td class="btn-cell actions-column"><!--TODO: refactor this into controller or something-->
                <!-- This is wrapping the spans because of a nowrap/overflow issue coming into play with in the money background color not spanning the whole row -->
                <div class="actions-column">
                    <span ng-class="{'et-icon-bell-alt':!hasAlerts, 'et-icon-bell':hasAlerts}" title="Add Alert" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-alerts.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-alerts="GOOG" class="ng-scope et-icon-bell-alt"></span>
                    <span ng-class="{'et-icon-document-alt':!note, 'et-icon-document':note}" title="Add Note" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-note.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-note="GOOG" class="ng-scope et-icon-document"></span>
                    <div class="btn-group ng-isolate-scope" dropdown="" ng-show="accountId !=='all'" lot-type="position.lots[0].lotType">
    <!-- There are a few extra unassigned ng-clicks below to prevent the lot row from expanding. See  $scope.toggleRow in portfolio.client.controller.js't  -->
    <button type="button" class="btn btn-success btn-xs" ng-click="setTradeSegue(position)" ui-sref="trade" href="#!/trade">Trade</button>
    <button type="button" class="btn btn-success btn-xs dropdown-toggle" data-toggle="dropdown" aria-expanded="false" ng-click="">
    <span class="caret" ng-click=""></span>
    <span class="sr-only">Toggle Dropdown</span>
    </button>
    <ul class="dropdown-menu" role="menu">
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'buy')" ui-sref="trade" href="#!/trade">Buy</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'sell')" ui-sref="trade" href="#!/trade">Sell</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='mutual-fund' && lotType!=='option' -->
    </ul>
</div>
                </div>
            </td>
        </tr>
        <!-- ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots -->
        <!-- This tr is vestigial from when table rows were going to have 2 ways to expand. -->
            <!-- ngIf: showQuote -->
        </tbody><!-- end ngRepeat: position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse --><tbody ng-repeat="position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse" ng-init="expandedRowsVisible[$index]=false; showQuote=false;" id="GOOG Mar 27 '15 $557.50 Call-position" ng-class="position.lots[0].lotType" class="ng-scope option">
            <tr ng-click="toggleRow($event, $index)">
                <td class="arrows"><span class="arrow et-icon-chevron-right" ng-class="expandedRowsVisible[$index] ? 'rotate' : ''"></span></td>
                <td class="text-left">
                    <a et-quick-quote="position" symbol="position._id" href="" ng-class="{'special-event':position._id==='AAPL'}" class="ng-binding ng-isolate-scope">GOOG Mar 27 '15 $557.50 Call</a>
                </td>
                <!-- ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="lastTrade text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">4.10</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClose text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope pos">4.40</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClosePercentage text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-2.39</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="quantity text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">1</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="pricePaidPerShare text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">4.10</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-15.18</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-78.73</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">0.00</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">0.00</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="value text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">4.10</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields -->
                <td class="text-center">
                    <!-- <a ng-switch-when="0" ng-if="openOrdersForSymbol(position._id).length" href="#" scroll-to="open-orders" callback-before="beforeScroll" callback-after="afterScroll" ng-click="filters.showOpenOrders=true; filters.openOrders=position._id;" class="badge badge-red">{{openOrdersForSymbol(position._id).length}}</a> -->
                    <!-- ngIf: openOrdersForSymbol(position._id).length -->
                </td>
                <td class="btn-cell actions-column"><!--TODO: refactor this into controller or something-->
                <!-- This is wrapping the spans because of a nowrap/overflow issue coming into play with in the money background color not spanning the whole row -->
                <div class="actions-column">
                    <span ng-class="{'et-icon-bell-alt':!hasAlerts, 'et-icon-bell':hasAlerts}" title="Add Alert" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-alerts.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-alerts="GOOG Mar 27 '15 $557.50 Call" class="ng-scope et-icon-bell-alt"></span>
                    <span ng-class="{'et-icon-document-alt':!note, 'et-icon-document':note}" title="Add Note" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-note.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-note="GOOG Mar 27 '15 $557.50 Call" class="ng-scope et-icon-document-alt"></span>
                    <div class="btn-group ng-isolate-scope" dropdown="" ng-show="accountId !=='all'" lot-type="position.lots[0].lotType">
    <!-- There are a few extra unassigned ng-clicks below to prevent the lot row from expanding. See  $scope.toggleRow in portfolio.client.controller.js't  -->
    <button type="button" class="btn btn-success btn-xs" ng-click="setTradeSegue(position)" ui-sref="trade" href="#!/trade">Trade</button>
    <button type="button" class="btn btn-success btn-xs dropdown-toggle" data-toggle="dropdown" aria-expanded="false" ng-click="">
    <span class="caret" ng-click=""></span>
    <span class="sr-only">Toggle Dropdown</span>
    </button>
    <ul class="dropdown-menu" role="menu">
        <!-- ngIf: lotType!=='option' -->
        <!-- ngIf: lotType!=='option' -->
        <!-- ngIf: lotType=='option' --><li ng-if="lotType=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'add')" ui-sref="trade" href="#!/trade">Add</a></li><!-- end ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' --><li ng-if="lotType=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'roll')" ui-sref="trade" href="#!/trade">Roll</a></li><!-- end ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' --><li ng-if="lotType=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'closeOut')" ui-sref="trade" href="#!/trade">Close Out</a></li><!-- end ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='mutual-fund' && lotType!=='option' -->
    </ul>
</div>
                </div>
            </td>
        </tr>
        <!-- ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots -->
        <!-- This tr is vestigial from when table rows were going to have 2 ways to expand. -->
            <!-- ngIf: showQuote -->
        </tbody><!-- end ngRepeat: position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse --><tbody ng-repeat="position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse" ng-init="expandedRowsVisible[$index]=false; showQuote=false;" id="KO-position" ng-class="position.lots[0].lotType" class="ng-scope stock">
            <tr ng-click="toggleRow($event, $index)">
                <td class="arrows"><span class="arrow et-icon-chevron-right" ng-class="expandedRowsVisible[$index] ? 'rotate' : ''"></span></td>
                <td class="text-left">
                    <a et-quick-quote="position" symbol="position._id" href="" ng-class="{'special-event':position._id==='AAPL'}" class="ng-binding ng-isolate-scope">KO</a>
                </td>
                <!-- ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="lastTrade text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">38.62</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClose text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-0.57</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClosePercentage text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-1.45</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="quantity text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">15</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="pricePaidPerShare text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">40.17</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-8.55</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-1.45</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-23.33</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-4.03</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="value text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">579.30</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields -->
                <td class="text-center">
                    <!-- <a ng-switch-when="0" ng-if="openOrdersForSymbol(position._id).length" href="#" scroll-to="open-orders" callback-before="beforeScroll" callback-after="afterScroll" ng-click="filters.showOpenOrders=true; filters.openOrders=position._id;" class="badge badge-red">{{openOrdersForSymbol(position._id).length}}</a> -->
                    <!-- ngIf: openOrdersForSymbol(position._id).length -->
                </td>
                <td class="btn-cell actions-column"><!--TODO: refactor this into controller or something-->
                <!-- This is wrapping the spans because of a nowrap/overflow issue coming into play with in the money background color not spanning the whole row -->
                <div class="actions-column">
                    <span ng-class="{'et-icon-bell-alt':!hasAlerts, 'et-icon-bell':hasAlerts}" title="Add Alert" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-alerts.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-alerts="KO" class="ng-scope et-icon-bell-alt"></span>
                    <span ng-class="{'et-icon-document-alt':!note, 'et-icon-document':note}" title="Add Note" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-note.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-note="KO" class="ng-scope et-icon-document-alt"></span>
                    <div class="btn-group ng-isolate-scope" dropdown="" ng-show="accountId !=='all'" lot-type="position.lots[0].lotType">
    <!-- There are a few extra unassigned ng-clicks below to prevent the lot row from expanding. See  $scope.toggleRow in portfolio.client.controller.js't  -->
    <button type="button" class="btn btn-success btn-xs" ng-click="setTradeSegue(position)" ui-sref="trade" href="#!/trade">Trade</button>
    <button type="button" class="btn btn-success btn-xs dropdown-toggle" data-toggle="dropdown" aria-expanded="false" ng-click="">
    <span class="caret" ng-click=""></span>
    <span class="sr-only">Toggle Dropdown</span>
    </button>
    <ul class="dropdown-menu" role="menu">
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'buy')" ui-sref="trade" href="#!/trade">Buy</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'sell')" ui-sref="trade" href="#!/trade">Sell</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='mutual-fund' && lotType!=='option' -->
    </ul>
</div>
                </div>
            </td>
        </tr>
        <!-- ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots -->
        <!-- This tr is vestigial from when table rows were going to have 2 ways to expand. -->
            <!-- ngIf: showQuote -->
        </tbody><!-- end ngRepeat: position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse --><tbody ng-repeat="position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse" ng-init="expandedRowsVisible[$index]=false; showQuote=false;" id="MSFT-position" ng-class="position.lots[0].lotType" class="ng-scope stock">
            <tr ng-click="toggleRow($event, $index)">
                <td class="arrows"><span class="arrow et-icon-chevron-right" ng-class="expandedRowsVisible[$index] ? 'rotate' : ''"></span></td>
                <td class="text-left">
                    <a et-quick-quote="position" symbol="position._id" href="" ng-class="{'special-event':position._id==='AAPL'}" class="ng-binding ng-isolate-scope">MSFT</a>
                </td>
                <!-- ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="lastTrade text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">43.59</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClose text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-0.53</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClosePercentage text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-1.19</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="quantity text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">100</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="pricePaidPerShare text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">41.78</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-52.50</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-1.19</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope pos">239.92</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope pos">5.50</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="value text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">4,358.50</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields -->
                <td class="text-center">
                    <!-- <a ng-switch-when="0" ng-if="openOrdersForSymbol(position._id).length" href="#" scroll-to="open-orders" callback-before="beforeScroll" callback-after="afterScroll" ng-click="filters.showOpenOrders=true; filters.openOrders=position._id;" class="badge badge-red">{{openOrdersForSymbol(position._id).length}}</a> -->
                    <!-- ngIf: openOrdersForSymbol(position._id).length -->
                </td>
                <td class="btn-cell actions-column"><!--TODO: refactor this into controller or something-->
                <!-- This is wrapping the spans because of a nowrap/overflow issue coming into play with in the money background color not spanning the whole row -->
                <div class="actions-column">
                    <span ng-class="{'et-icon-bell-alt':!hasAlerts, 'et-icon-bell':hasAlerts}" title="Add Alert" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-alerts.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-alerts="MSFT" class="ng-scope et-icon-bell-alt"></span>
                    <span ng-class="{'et-icon-document-alt':!note, 'et-icon-document':note}" title="Add Note" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-note.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-note="MSFT" class="ng-scope et-icon-document"></span>
                    <div class="btn-group ng-isolate-scope" dropdown="" ng-show="accountId !=='all'" lot-type="position.lots[0].lotType">
    <!-- There are a few extra unassigned ng-clicks below to prevent the lot row from expanding. See  $scope.toggleRow in portfolio.client.controller.js't  -->
    <button type="button" class="btn btn-success btn-xs" ng-click="setTradeSegue(position)" ui-sref="trade" href="#!/trade">Trade</button>
    <button type="button" class="btn btn-success btn-xs dropdown-toggle" data-toggle="dropdown" aria-expanded="false" ng-click="">
    <span class="caret" ng-click=""></span>
    <span class="sr-only">Toggle Dropdown</span>
    </button>
    <ul class="dropdown-menu" role="menu">
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'buy')" ui-sref="trade" href="#!/trade">Buy</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'sell')" ui-sref="trade" href="#!/trade">Sell</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='mutual-fund' && lotType!=='option' -->
    </ul>
</div>
                </div>
            </td>
        </tr>
        <!-- ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots -->
        <!-- This tr is vestigial from when table rows were going to have 2 ways to expand. -->
            <!-- ngIf: showQuote -->
        </tbody><!-- end ngRepeat: position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse --><tbody ng-repeat="position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse" ng-init="expandedRowsVisible[$index]=false; showQuote=false;" id="O-position" ng-class="position.lots[0].lotType" class="ng-scope stock">
            <tr ng-click="toggleRow($event, $index)">
                <td class="arrows"><span class="arrow et-icon-chevron-right" ng-class="expandedRowsVisible[$index] ? 'rotate' : ''"></span></td>
                <td class="text-left">
                    <a et-quick-quote="position" symbol="position._id" href="" ng-class="{'special-event':position._id==='AAPL'}" class="ng-binding ng-isolate-scope">O</a>
                </td>
                <!-- ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="lastTrade text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">47.35</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClose text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-0.32</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClosePercentage text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-0.67</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="quantity text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">50</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="pricePaidPerShare text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">50.10</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-16.00</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-0.67</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-137.50</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-5.81</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="value text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">2,367.50</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields -->
                <td class="text-center">
                    <!-- <a ng-switch-when="0" ng-if="openOrdersForSymbol(position._id).length" href="#" scroll-to="open-orders" callback-before="beforeScroll" callback-after="afterScroll" ng-click="filters.showOpenOrders=true; filters.openOrders=position._id;" class="badge badge-red">{{openOrdersForSymbol(position._id).length}}</a> -->
                    <!-- ngIf: openOrdersForSymbol(position._id).length -->
                </td>
                <td class="btn-cell actions-column"><!--TODO: refactor this into controller or something-->
                <!-- This is wrapping the spans because of a nowrap/overflow issue coming into play with in the money background color not spanning the whole row -->
                <div class="actions-column">
                    <span ng-class="{'et-icon-bell-alt':!hasAlerts, 'et-icon-bell':hasAlerts}" title="Add Alert" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-alerts.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-alerts="O" class="ng-scope et-icon-bell-alt"></span>
                    <span ng-class="{'et-icon-document-alt':!note, 'et-icon-document':note}" title="Add Note" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-note.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-note="O" class="ng-scope et-icon-document-alt"></span>
                    <div class="btn-group ng-isolate-scope" dropdown="" ng-show="accountId !=='all'" lot-type="position.lots[0].lotType">
    <!-- There are a few extra unassigned ng-clicks below to prevent the lot row from expanding. See  $scope.toggleRow in portfolio.client.controller.js't  -->
    <button type="button" class="btn btn-success btn-xs" ng-click="setTradeSegue(position)" ui-sref="trade" href="#!/trade">Trade</button>
    <button type="button" class="btn btn-success btn-xs dropdown-toggle" data-toggle="dropdown" aria-expanded="false" ng-click="">
    <span class="caret" ng-click=""></span>
    <span class="sr-only">Toggle Dropdown</span>
    </button>
    <ul class="dropdown-menu" role="menu">
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'buy')" ui-sref="trade" href="#!/trade">Buy</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'sell')" ui-sref="trade" href="#!/trade">Sell</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='mutual-fund' && lotType!=='option' -->
    </ul>
</div>
                </div>
            </td>
        </tr>
        <!-- ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots -->
        <!-- This tr is vestigial from when table rows were going to have 2 ways to expand. -->
            <!-- ngIf: showQuote -->
        </tbody><!-- end ngRepeat: position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse --><tbody ng-repeat="position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse" ng-init="expandedRowsVisible[$index]=false; showQuote=false;" id="P-position" ng-class="position.lots[0].lotType" class="ng-scope stock">
            <tr ng-click="toggleRow($event, $index)">
                <td class="arrows"><span class="arrow et-icon-chevron-right" ng-class="expandedRowsVisible[$index] ? 'rotate' : ''"></span></td>
                <td class="text-left">
                    <a et-quick-quote="position" symbol="position._id" href="" ng-class="{'special-event':position._id==='AAPL'}" class="ng-binding ng-isolate-scope">P</a>
                </td>
                <!-- ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="lastTrade text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">20.18</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClose text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-0.65</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClosePercentage text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-3.12</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="quantity text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">1002</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="pricePaidPerShare text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">16.45</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-651.30</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-3.12</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope pos">3,707.53</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope pos">18.34</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="value text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">20,220.36</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields -->
                <td class="text-center">
                    <!-- <a ng-switch-when="0" ng-if="openOrdersForSymbol(position._id).length" href="#" scroll-to="open-orders" callback-before="beforeScroll" callback-after="afterScroll" ng-click="filters.showOpenOrders=true; filters.openOrders=position._id;" class="badge badge-red">{{openOrdersForSymbol(position._id).length}}</a> -->
                    <!-- ngIf: openOrdersForSymbol(position._id).length --><a class="ng-scope ng-binding" ng-click="filters.openOrders=position._id;" ng-if="openOrdersForSymbol(position._id).length" href="" data-template="/modules/portfolio/views/partials/open-orders-modal.client.view.html" data-placement="bottom-right" data-animation="am-fade-and-slide-top" data-auto-close="1" bs-popover="">1</a><!-- end ngIf: openOrdersForSymbol(position._id).length -->
                </td>
                <td class="btn-cell actions-column"><!--TODO: refactor this into controller or something-->
                <!-- This is wrapping the spans because of a nowrap/overflow issue coming into play with in the money background color not spanning the whole row -->
                <div class="actions-column">
                    <span ng-class="{'et-icon-bell-alt':!hasAlerts, 'et-icon-bell':hasAlerts}" title="Add Alert" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-alerts.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-alerts="P" class="ng-scope et-icon-bell-alt"></span>
                    <span ng-class="{'et-icon-document-alt':!note, 'et-icon-document':note}" title="Add Note" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-note.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-note="P" class="ng-scope et-icon-document"></span>
                    <div class="btn-group ng-isolate-scope" dropdown="" ng-show="accountId !=='all'" lot-type="position.lots[0].lotType">
    <!-- There are a few extra unassigned ng-clicks below to prevent the lot row from expanding. See  $scope.toggleRow in portfolio.client.controller.js't  -->
    <button type="button" class="btn btn-success btn-xs" ng-click="setTradeSegue(position)" ui-sref="trade" href="#!/trade">Trade</button>
    <button type="button" class="btn btn-success btn-xs dropdown-toggle" data-toggle="dropdown" aria-expanded="false" ng-click="">
    <span class="caret" ng-click=""></span>
    <span class="sr-only">Toggle Dropdown</span>
    </button>
    <ul class="dropdown-menu" role="menu">
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'buy')" ui-sref="trade" href="#!/trade">Buy</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'sell')" ui-sref="trade" href="#!/trade">Sell</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='mutual-fund' && lotType!=='option' -->
    </ul>
</div>
                </div>
            </td>
        </tr>
        <!-- ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots -->
        <!-- This tr is vestigial from when table rows were going to have 2 ways to expand. -->
            <!-- ngIf: showQuote -->
        </tbody><!-- end ngRepeat: position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse --><tbody ng-repeat="position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse" ng-init="expandedRowsVisible[$index]=false; showQuote=false;" id="P Mar 27 '15 $16.50 Call-position" ng-class="position.lots[0].lotType" class="ng-scope option">
            <tr ng-click="toggleRow($event, $index)">
                <td class="arrows"><span class="arrow et-icon-chevron-right" ng-class="expandedRowsVisible[$index] ? 'rotate' : ''"></span></td>
                <td class="text-left">
                    <a et-quick-quote="position" symbol="position._id" href="" ng-class="{'special-event':position._id==='AAPL'}" class="ng-binding ng-isolate-scope">P Mar 27 '15 $16.50 Call</a>
                </td>
                <!-- ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="lastTrade text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">0.40</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClose text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope pos">0.39</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClosePercentage text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-3.12</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="quantity text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">1</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="pricePaidPerShare text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">0.34</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-0.65</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-61.90</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope pos">0.06</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope pos">15.00</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="value text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">0.40</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields -->
                <td class="text-center">
                    <!-- <a ng-switch-when="0" ng-if="openOrdersForSymbol(position._id).length" href="#" scroll-to="open-orders" callback-before="beforeScroll" callback-after="afterScroll" ng-click="filters.showOpenOrders=true; filters.openOrders=position._id;" class="badge badge-red">{{openOrdersForSymbol(position._id).length}}</a> -->
                    <!-- ngIf: openOrdersForSymbol(position._id).length -->
                </td>
                <td class="btn-cell actions-column"><!--TODO: refactor this into controller or something-->
                <!-- This is wrapping the spans because of a nowrap/overflow issue coming into play with in the money background color not spanning the whole row -->
                <div class="actions-column">
                    <span ng-class="{'et-icon-bell-alt':!hasAlerts, 'et-icon-bell':hasAlerts}" title="Add Alert" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-alerts.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-alerts="P Mar 27 '15 $16.50 Call" class="ng-scope et-icon-bell-alt"></span>
                    <span ng-class="{'et-icon-document-alt':!note, 'et-icon-document':note}" title="Add Note" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-note.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-note="P Mar 27 '15 $16.50 Call" class="ng-scope et-icon-document-alt"></span>
                    <div class="btn-group ng-isolate-scope" dropdown="" ng-show="accountId !=='all'" lot-type="position.lots[0].lotType">
    <!-- There are a few extra unassigned ng-clicks below to prevent the lot row from expanding. See  $scope.toggleRow in portfolio.client.controller.js't  -->
    <button type="button" class="btn btn-success btn-xs" ng-click="setTradeSegue(position)" ui-sref="trade" href="#!/trade">Trade</button>
    <button type="button" class="btn btn-success btn-xs dropdown-toggle" data-toggle="dropdown" aria-expanded="false" ng-click="">
    <span class="caret" ng-click=""></span>
    <span class="sr-only">Toggle Dropdown</span>
    </button>
    <ul class="dropdown-menu" role="menu">
        <!-- ngIf: lotType!=='option' -->
        <!-- ngIf: lotType!=='option' -->
        <!-- ngIf: lotType=='option' --><li ng-if="lotType=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'add')" ui-sref="trade" href="#!/trade">Add</a></li><!-- end ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' --><li ng-if="lotType=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'roll')" ui-sref="trade" href="#!/trade">Roll</a></li><!-- end ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' --><li ng-if="lotType=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'closeOut')" ui-sref="trade" href="#!/trade">Close Out</a></li><!-- end ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='mutual-fund' && lotType!=='option' -->
    </ul>
</div>
                </div>
            </td>
        </tr>
        <!-- ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots -->
        <!-- This tr is vestigial from when table rows were going to have 2 ways to expand. -->
            <!-- ngIf: showQuote -->
        </tbody><!-- end ngRepeat: position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse --><tbody ng-repeat="position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse" ng-init="expandedRowsVisible[$index]=false; showQuote=false;" id="PBR-position" ng-class="position.lots[0].lotType" class="ng-scope stock">
            <tr ng-click="toggleRow($event, $index)">
                <td class="arrows"><span class="arrow et-icon-chevron-right" ng-class="expandedRowsVisible[$index] ? 'rotate' : ''"></span></td>
                <td class="text-left">
                    <a et-quick-quote="position" symbol="position._id" href="" ng-class="{'special-event':position._id==='AAPL'}" class="ng-binding ng-isolate-scope">PBR</a>
                </td>
                <!-- ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="lastTrade text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">4.08</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClose text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-0.27</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClosePercentage text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-6.11</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="quantity text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">13</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="pricePaidPerShare text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">7.08</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-3.45</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-6.11</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-51.05</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-96.36</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="value text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">52.98</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields -->
                <td class="text-center">
                    <!-- <a ng-switch-when="0" ng-if="openOrdersForSymbol(position._id).length" href="#" scroll-to="open-orders" callback-before="beforeScroll" callback-after="afterScroll" ng-click="filters.showOpenOrders=true; filters.openOrders=position._id;" class="badge badge-red">{{openOrdersForSymbol(position._id).length}}</a> -->
                    <!-- ngIf: openOrdersForSymbol(position._id).length -->
                </td>
                <td class="btn-cell actions-column"><!--TODO: refactor this into controller or something-->
                <!-- This is wrapping the spans because of a nowrap/overflow issue coming into play with in the money background color not spanning the whole row -->
                <div class="actions-column">
                    <span ng-class="{'et-icon-bell-alt':!hasAlerts, 'et-icon-bell':hasAlerts}" title="Add Alert" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-alerts.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-alerts="PBR" class="ng-scope et-icon-bell"></span>
                    <span ng-class="{'et-icon-document-alt':!note, 'et-icon-document':note}" title="Add Note" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-note.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-note="PBR" class="ng-scope et-icon-document-alt"></span>
                    <div class="btn-group ng-isolate-scope" dropdown="" ng-show="accountId !=='all'" lot-type="position.lots[0].lotType">
    <!-- There are a few extra unassigned ng-clicks below to prevent the lot row from expanding. See  $scope.toggleRow in portfolio.client.controller.js't  -->
    <button type="button" class="btn btn-success btn-xs" ng-click="setTradeSegue(position)" ui-sref="trade" href="#!/trade">Trade</button>
    <button type="button" class="btn btn-success btn-xs dropdown-toggle" data-toggle="dropdown" aria-expanded="false" ng-click="">
    <span class="caret" ng-click=""></span>
    <span class="sr-only">Toggle Dropdown</span>
    </button>
    <ul class="dropdown-menu" role="menu">
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'buy')" ui-sref="trade" href="#!/trade">Buy</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'sell')" ui-sref="trade" href="#!/trade">Sell</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='mutual-fund' && lotType!=='option' -->
    </ul>
</div>
                </div>
            </td>
        </tr>
        <!-- ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots -->
        <!-- This tr is vestigial from when table rows were going to have 2 ways to expand. -->
            <!-- ngIf: showQuote -->
        </tbody><!-- end ngRepeat: position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse --><tbody ng-repeat="position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse" ng-init="expandedRowsVisible[$index]=false; showQuote=false;" id="PBR Jun 26 '15 $9.50 Put-position" ng-class="position.lots[0].lotType" class="ng-scope option">
            <tr ng-click="toggleRow($event, $index)">
                <td class="arrows"><span class="arrow et-icon-chevron-right" ng-class="expandedRowsVisible[$index] ? 'rotate' : ''"></span></td>
                <td class="text-left">
                    <a et-quick-quote="position" symbol="position._id" href="" ng-class="{'special-event':position._id==='AAPL'}" class="ng-binding ng-isolate-scope">PBR Jun 26 '15 $9.50 Put</a>
                </td>
                <!-- ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="lastTrade text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">0.10</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClose text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope pos">0.13</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClosePercentage text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-6.11</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="quantity text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">1</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="pricePaidPerShare text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">0.10</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-0.27</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-72.97</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">0.00</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">0.00</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="value text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">0.10</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields -->
                <td class="text-center">
                    <!-- <a ng-switch-when="0" ng-if="openOrdersForSymbol(position._id).length" href="#" scroll-to="open-orders" callback-before="beforeScroll" callback-after="afterScroll" ng-click="filters.showOpenOrders=true; filters.openOrders=position._id;" class="badge badge-red">{{openOrdersForSymbol(position._id).length}}</a> -->
                    <!-- ngIf: openOrdersForSymbol(position._id).length -->
                </td>
                <td class="btn-cell actions-column"><!--TODO: refactor this into controller or something-->
                <!-- This is wrapping the spans because of a nowrap/overflow issue coming into play with in the money background color not spanning the whole row -->
                <div class="actions-column">
                    <span ng-class="{'et-icon-bell-alt':!hasAlerts, 'et-icon-bell':hasAlerts}" title="Add Alert" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-alerts.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-alerts="PBR Jun 26 '15 $9.50 Put" class="ng-scope et-icon-bell-alt"></span>
                    <span ng-class="{'et-icon-document-alt':!note, 'et-icon-document':note}" title="Add Note" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-note.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-note="PBR Jun 26 '15 $9.50 Put" class="ng-scope et-icon-document-alt"></span>
                    <div class="btn-group ng-isolate-scope" dropdown="" ng-show="accountId !=='all'" lot-type="position.lots[0].lotType">
    <!-- There are a few extra unassigned ng-clicks below to prevent the lot row from expanding. See  $scope.toggleRow in portfolio.client.controller.js't  -->
    <button type="button" class="btn btn-success btn-xs" ng-click="setTradeSegue(position)" ui-sref="trade" href="#!/trade">Trade</button>
    <button type="button" class="btn btn-success btn-xs dropdown-toggle" data-toggle="dropdown" aria-expanded="false" ng-click="">
    <span class="caret" ng-click=""></span>
    <span class="sr-only">Toggle Dropdown</span>
    </button>
    <ul class="dropdown-menu" role="menu">
        <!-- ngIf: lotType!=='option' -->
        <!-- ngIf: lotType!=='option' -->
        <!-- ngIf: lotType=='option' --><li ng-if="lotType=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'add')" ui-sref="trade" href="#!/trade">Add</a></li><!-- end ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' --><li ng-if="lotType=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'roll')" ui-sref="trade" href="#!/trade">Roll</a></li><!-- end ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' --><li ng-if="lotType=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'closeOut')" ui-sref="trade" href="#!/trade">Close Out</a></li><!-- end ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='mutual-fund' && lotType!=='option' -->
    </ul>
</div>
                </div>
            </td>
        </tr>
        <!-- ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots -->
        <!-- This tr is vestigial from when table rows were going to have 2 ways to expand. -->
            <!-- ngIf: showQuote -->
        </tbody><!-- end ngRepeat: position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse --><tbody ng-repeat="position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse" ng-init="expandedRowsVisible[$index]=false; showQuote=false;" id="POAGX-position" ng-class="position.lots[0].lotType" class="ng-scope mutual-fund">
            <tr ng-click="toggleRow($event, $index)">
                <td class="arrows"><span class="arrow et-icon-chevron-right" ng-class="expandedRowsVisible[$index] ? 'rotate' : ''"></span></td>
                <td class="text-left">
                    <a et-quick-quote="position" symbol="position._id" href="" ng-class="{'special-event':position._id==='AAPL'}" class="ng-binding ng-isolate-scope">POAGX</a>
                </td>
                <!-- ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="lastTrade text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">35.67</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClose text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope pos">0.08</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClosePercentage text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope pos">0.06</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="quantity text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">520</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="pricePaidPerShare text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">35.01</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope pos">22.79</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope pos">0.06</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope pos">1,067.67</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope pos">2.85</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="value text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">18,742.28</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields -->
                <td class="text-center">
                    <!-- <a ng-switch-when="0" ng-if="openOrdersForSymbol(position._id).length" href="#" scroll-to="open-orders" callback-before="beforeScroll" callback-after="afterScroll" ng-click="filters.showOpenOrders=true; filters.openOrders=position._id;" class="badge badge-red">{{openOrdersForSymbol(position._id).length}}</a> -->
                    <!-- ngIf: openOrdersForSymbol(position._id).length -->
                </td>
                <td class="btn-cell actions-column"><!--TODO: refactor this into controller or something-->
                <!-- This is wrapping the spans because of a nowrap/overflow issue coming into play with in the money background color not spanning the whole row -->
                <div class="actions-column">
                    <span ng-class="{'et-icon-bell-alt':!hasAlerts, 'et-icon-bell':hasAlerts}" title="Add Alert" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-alerts.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-alerts="POAGX" class="ng-scope et-icon-bell-alt"></span>
                    <span ng-class="{'et-icon-document-alt':!note, 'et-icon-document':note}" title="Add Note" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-note.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-note="POAGX" class="ng-scope et-icon-document-alt"></span>
                    <div class="btn-group ng-isolate-scope" dropdown="" ng-show="accountId !=='all'" lot-type="position.lots[0].lotType">
    <!-- There are a few extra unassigned ng-clicks below to prevent the lot row from expanding. See  $scope.toggleRow in portfolio.client.controller.js't  -->
    <button type="button" class="btn btn-success btn-xs" ng-click="setTradeSegue(position)" ui-sref="trade" href="#!/trade">Trade</button>
    <button type="button" class="btn btn-success btn-xs dropdown-toggle" data-toggle="dropdown" aria-expanded="false" ng-click="">
    <span class="caret" ng-click=""></span>
    <span class="sr-only">Toggle Dropdown</span>
    </button>
    <ul class="dropdown-menu" role="menu">
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'buy')" ui-sref="trade" href="#!/trade">Buy</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'sell')" ui-sref="trade" href="#!/trade">Sell</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='mutual-fund' && lotType!=='option' --><li ng-if="lotType=='mutual-fund' &amp;&amp; lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'exchange')" ui-sref="trade" href="#!/trade">Exchange</a></li><!-- end ngIf: lotType=='mutual-fund' && lotType!=='option' -->
    </ul>
</div>
                </div>
            </td>
        </tr>
        <!-- ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots -->
        <!-- This tr is vestigial from when table rows were going to have 2 ways to expand. -->
            <!-- ngIf: showQuote -->
        </tbody><!-- end ngRepeat: position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse --><tbody ng-repeat="position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse" ng-init="expandedRowsVisible[$index]=false; showQuote=false;" id="T-position" ng-class="position.lots[0].lotType" class="ng-scope stock">
            <tr ng-click="toggleRow($event, $index)">
                <td class="arrows"><span class="arrow et-icon-chevron-right" ng-class="expandedRowsVisible[$index] ? 'rotate' : ''"></span></td>
                <td class="text-left">
                    <a et-quick-quote="position" symbol="position._id" href="" ng-class="{'special-event':position._id==='AAPL'}" class="ng-binding ng-isolate-scope">T</a>
                </td>
                <!-- ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="lastTrade text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">32.18</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClose text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-0.38</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClosePercentage text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-1.17</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="quantity text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">10</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="pricePaidPerShare text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">33.28</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-3.80</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-1.17</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-11.00</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-3.42</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="value text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">321.80</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields -->
                <td class="text-center">
                    <!-- <a ng-switch-when="0" ng-if="openOrdersForSymbol(position._id).length" href="#" scroll-to="open-orders" callback-before="beforeScroll" callback-after="afterScroll" ng-click="filters.showOpenOrders=true; filters.openOrders=position._id;" class="badge badge-red">{{openOrdersForSymbol(position._id).length}}</a> -->
                    <!-- ngIf: openOrdersForSymbol(position._id).length --><a class="ng-scope ng-binding" ng-click="filters.openOrders=position._id;" ng-if="openOrdersForSymbol(position._id).length" href="" data-template="/modules/portfolio/views/partials/open-orders-modal.client.view.html" data-placement="bottom-right" data-animation="am-fade-and-slide-top" data-auto-close="1" bs-popover="">1</a><!-- end ngIf: openOrdersForSymbol(position._id).length -->
                </td>
                <td class="btn-cell actions-column"><!--TODO: refactor this into controller or something-->
                <!-- This is wrapping the spans because of a nowrap/overflow issue coming into play with in the money background color not spanning the whole row -->
                <div class="actions-column">
                    <span ng-class="{'et-icon-bell-alt':!hasAlerts, 'et-icon-bell':hasAlerts}" title="Add Alert" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-alerts.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-alerts="T" class="ng-scope et-icon-bell-alt"></span>
                    <span ng-class="{'et-icon-document-alt':!note, 'et-icon-document':note}" title="Add Note" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-note.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-note="T" class="ng-scope et-icon-document-alt"></span>
                    <div class="btn-group ng-isolate-scope" dropdown="" ng-show="accountId !=='all'" lot-type="position.lots[0].lotType">
    <!-- There are a few extra unassigned ng-clicks below to prevent the lot row from expanding. See  $scope.toggleRow in portfolio.client.controller.js't  -->
    <button type="button" class="btn btn-success btn-xs" ng-click="setTradeSegue(position)" ui-sref="trade" href="#!/trade">Trade</button>
    <button type="button" class="btn btn-success btn-xs dropdown-toggle" data-toggle="dropdown" aria-expanded="false" ng-click="">
    <span class="caret" ng-click=""></span>
    <span class="sr-only">Toggle Dropdown</span>
    </button>
    <ul class="dropdown-menu" role="menu">
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'buy')" ui-sref="trade" href="#!/trade">Buy</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'sell')" ui-sref="trade" href="#!/trade">Sell</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='mutual-fund' && lotType!=='option' -->
    </ul>
</div>
                </div>
            </td>
        </tr>
        <!-- ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots -->
        <!-- This tr is vestigial from when table rows were going to have 2 ways to expand. -->
            <!-- ngIf: showQuote -->
        </tbody><!-- end ngRepeat: position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse --><tbody ng-repeat="position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse" ng-init="expandedRowsVisible[$index]=false; showQuote=false;" id="TSLA-position" ng-class="position.lots[0].lotType" class="ng-scope stock">
            <tr ng-click="toggleRow($event, $index)">
                <td class="arrows"><span class="arrow et-icon-chevron-right" ng-class="expandedRowsVisible[$index] ? 'rotate' : ''"></span></td>
                <td class="text-left">
                    <a et-quick-quote="position" symbol="position._id" href="" ng-class="{'special-event':position._id==='AAPL'}" class="ng-binding ng-isolate-scope">TSLA</a>
                </td>
                <!-- ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="lastTrade text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">258.93</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClose text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-5.27</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClosePercentage text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-1.99</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="quantity text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">136</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="pricePaidPerShare text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">234.33</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-716.72</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-1.99</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope pos">2,082.57</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope pos">5.91</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="value text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">35,214.48</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields -->
                <td class="text-center">
                    <!-- <a ng-switch-when="0" ng-if="openOrdersForSymbol(position._id).length" href="#" scroll-to="open-orders" callback-before="beforeScroll" callback-after="afterScroll" ng-click="filters.showOpenOrders=true; filters.openOrders=position._id;" class="badge badge-red">{{openOrdersForSymbol(position._id).length}}</a> -->
                    <!-- ngIf: openOrdersForSymbol(position._id).length -->
                </td>
                <td class="btn-cell actions-column"><!--TODO: refactor this into controller or something-->
                <!-- This is wrapping the spans because of a nowrap/overflow issue coming into play with in the money background color not spanning the whole row -->
                <div class="actions-column">
                    <span ng-class="{'et-icon-bell-alt':!hasAlerts, 'et-icon-bell':hasAlerts}" title="Add Alert" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-alerts.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-alerts="TSLA" class="ng-scope et-icon-bell"></span>
                    <span ng-class="{'et-icon-document-alt':!note, 'et-icon-document':note}" title="Add Note" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-note.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-note="TSLA" class="ng-scope et-icon-document-alt"></span>
                    <div class="btn-group ng-isolate-scope" dropdown="" ng-show="accountId !=='all'" lot-type="position.lots[0].lotType">
    <!-- There are a few extra unassigned ng-clicks below to prevent the lot row from expanding. See  $scope.toggleRow in portfolio.client.controller.js't  -->
    <button type="button" class="btn btn-success btn-xs" ng-click="setTradeSegue(position)" ui-sref="trade" href="#!/trade">Trade</button>
    <button type="button" class="btn btn-success btn-xs dropdown-toggle" data-toggle="dropdown" aria-expanded="false" ng-click="">
    <span class="caret" ng-click=""></span>
    <span class="sr-only">Toggle Dropdown</span>
    </button>
    <ul class="dropdown-menu" role="menu">
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'buy')" ui-sref="trade" href="#!/trade">Buy</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'sell')" ui-sref="trade" href="#!/trade">Sell</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='mutual-fund' && lotType!=='option' -->
    </ul>
</div>
                </div>
            </td>
        </tr>
        <!-- ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots -->
        <!-- This tr is vestigial from when table rows were going to have 2 ways to expand. -->
            <!-- ngIf: showQuote -->
        </tbody><!-- end ngRepeat: position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse --><tbody ng-repeat="position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse" ng-init="expandedRowsVisible[$index]=false; showQuote=false;" id="WWE-position" ng-class="position.lots[0].lotType" class="ng-scope stock">
            <tr ng-click="toggleRow($event, $index)">
                <td class="arrows"><span class="arrow et-icon-chevron-right" ng-class="expandedRowsVisible[$index] ? 'rotate' : ''"></span></td>
                <td class="text-left">
                    <a et-quick-quote="position" symbol="position._id" href="" ng-class="{'special-event':position._id==='AAPL'}" class="ng-binding ng-isolate-scope">WWE</a>
                </td>
                <!-- ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="lastTrade text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">17.75</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClose text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-0.41</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClosePercentage text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-2.26</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="quantity text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">25</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="pricePaidPerShare text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">22.05</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-10.25</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-2.26</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-107.50</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-24.23</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="value text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">443.75</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields -->
                <td class="text-center">
                    <!-- <a ng-switch-when="0" ng-if="openOrdersForSymbol(position._id).length" href="#" scroll-to="open-orders" callback-before="beforeScroll" callback-after="afterScroll" ng-click="filters.showOpenOrders=true; filters.openOrders=position._id;" class="badge badge-red">{{openOrdersForSymbol(position._id).length}}</a> -->
                    <!-- ngIf: openOrdersForSymbol(position._id).length -->
                </td>
                <td class="btn-cell actions-column"><!--TODO: refactor this into controller or something-->
                <!-- This is wrapping the spans because of a nowrap/overflow issue coming into play with in the money background color not spanning the whole row -->
                <div class="actions-column">
                    <span ng-class="{'et-icon-bell-alt':!hasAlerts, 'et-icon-bell':hasAlerts}" title="Add Alert" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-alerts.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-alerts="WWE" class="ng-scope et-icon-bell-alt"></span>
                    <span ng-class="{'et-icon-document-alt':!note, 'et-icon-document':note}" title="Add Note" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-note.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-note="WWE" class="ng-scope et-icon-document-alt"></span>
                    <div class="btn-group ng-isolate-scope" dropdown="" ng-show="accountId !=='all'" lot-type="position.lots[0].lotType">
    <!-- There are a few extra unassigned ng-clicks below to prevent the lot row from expanding. See  $scope.toggleRow in portfolio.client.controller.js't  -->
    <button type="button" class="btn btn-success btn-xs" ng-click="setTradeSegue(position)" ui-sref="trade" href="#!/trade">Trade</button>
    <button type="button" class="btn btn-success btn-xs dropdown-toggle" data-toggle="dropdown" aria-expanded="false" ng-click="">
    <span class="caret" ng-click=""></span>
    <span class="sr-only">Toggle Dropdown</span>
    </button>
    <ul class="dropdown-menu" role="menu">
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'buy')" ui-sref="trade" href="#!/trade">Buy</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'sell')" ui-sref="trade" href="#!/trade">Sell</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='mutual-fund' && lotType!=='option' -->
    </ul>
</div>
                </div>
            </td>
        </tr>
        <!-- ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots -->
        <!-- This tr is vestigial from when table rows were going to have 2 ways to expand. -->
            <!-- ngIf: showQuote -->
        </tbody><!-- end ngRepeat: position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse --><tbody ng-repeat="position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse" ng-init="expandedRowsVisible[$index]=false; showQuote=false;" id="YHOO-position" ng-class="position.lots[0].lotType" class="ng-scope stock">
            <tr ng-click="toggleRow($event, $index)">
                <td class="arrows"><span class="arrow et-icon-chevron-right" ng-class="expandedRowsVisible[$index] ? 'rotate' : ''"></span></td>
                <td class="text-left">
                    <a et-quick-quote="position" symbol="position._id" href="" ng-class="{'special-event':position._id==='AAPL'}" class="ng-binding ng-isolate-scope">YHOO</a>
                </td>
                <!-- ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="lastTrade text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">0.00</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClose text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">0.00</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="changeClosePercentage text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">0.00</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="quantity text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">15</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="pricePaidPerShare text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">42.52</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">0.00</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="dayGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope"></span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainDollar text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope neg">-637.80</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="totalGainPercent text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope"></span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-class="config.allOptions[column].align" class="value text-right">
                    <span et-change="position[column]" data-type="config.allOptions[column].changeFormat" class="ng-isolate-scope">0.00</span>
                    <!-- ngIf: column == 'allStar' -->
                </td><!-- end ngRepeat: column in views[config.currentView].fields -->
                <td class="text-center">
                    <!-- <a ng-switch-when="0" ng-if="openOrdersForSymbol(position._id).length" href="#" scroll-to="open-orders" callback-before="beforeScroll" callback-after="afterScroll" ng-click="filters.showOpenOrders=true; filters.openOrders=position._id;" class="badge badge-red">{{openOrdersForSymbol(position._id).length}}</a> -->
                    <!-- ngIf: openOrdersForSymbol(position._id).length -->
                </td>
                <td class="btn-cell actions-column"><!--TODO: refactor this into controller or something-->
                <!-- This is wrapping the spans because of a nowrap/overflow issue coming into play with in the money background color not spanning the whole row -->
                <div class="actions-column">
                    <span ng-class="{'et-icon-bell-alt':!hasAlerts, 'et-icon-bell':hasAlerts}" title="Add Alert" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-alerts.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-alerts="YHOO" class="ng-scope et-icon-bell-alt"></span>
                    <span ng-class="{'et-icon-document-alt':!note, 'et-icon-document':note}" title="Add Note" bs-popover="" data-template="/modules/portfolio/views/partials/symbol-note.client.view.html" data-placement="bottom-right" ng-click="" ng-show="accountId !=='all'" symbol-note="YHOO" class="ng-scope et-icon-document-alt"></span>
                    <div class="btn-group ng-isolate-scope" dropdown="" ng-show="accountId !=='all'" lot-type="position.lots[0].lotType">
    <!-- There are a few extra unassigned ng-clicks below to prevent the lot row from expanding. See  $scope.toggleRow in portfolio.client.controller.js't  -->
    <button type="button" class="btn btn-success btn-xs" ng-click="setTradeSegue(position)" ui-sref="trade" href="#!/trade">Trade</button>
    <button type="button" class="btn btn-success btn-xs dropdown-toggle" data-toggle="dropdown" aria-expanded="false" ng-click="">
    <span class="caret" ng-click=""></span>
    <span class="sr-only">Toggle Dropdown</span>
    </button>
    <ul class="dropdown-menu" role="menu">
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'buy')" ui-sref="trade" href="#!/trade">Buy</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType!=='option' --><li ng-if="lotType!=='option'" class="ng-scope"><a ng-click="setTradeSegue(position, 'sell')" ui-sref="trade" href="#!/trade">Sell</a></li><!-- end ngIf: lotType!=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='option' -->
        <!-- ngIf: lotType=='mutual-fund' && lotType!=='option' -->
    </ul>
</div>
                </div>
            </td>
        </tr>
        <!-- ngRepeat: lot in position.lots --><!-- ngIf: expandedRowsVisible[$parent.$index] --><!-- end ngRepeat: lot in position.lots -->
        <!-- This tr is vestigial from when table rows were going to have 2 ways to expand. -->
            <!-- ngIf: showQuote -->
        </tbody><!-- end ngRepeat: position in portfolio[accountId] | filter:{_id: filters.symbolsString} | orderBy:sortBy:reverse -->
        <tfoot>
        <tr class="pagination-row">
            <td class="arrows"></td>
            <td colspan="13">
                <div class="pagination">
                    <a class="btn btn-default" style="margin-right:16px">View All</a>
                </div>
                <div class="pagination pagination-count">Viewing 50 of 60 Positions</div>
            </td>
        </tr>
        <!-- ngIf: views[config.currentView].fields.indexOf('value') >= 0 --><tr class="totals-row ng-scope" ng-if="views[config.currentView].fields.indexOf('value') >= 0">
            <td class="arrows"></td>
            <td colspan="10" class="text-left">Cash</td>
            <td colspan="1" class="text-right ng-binding">3,883.00</td>
        </tr><!-- end ngIf: views[config.currentView].fields.indexOf('value') >= 0 -->
        <tr class="totals-row">
            <td class="arrows"></td>
            <td colspan="" class="text-left">Total</td>
            <!-- ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-controller="TableFooterController" class="ng-scope">
                <span et-change="totals[visibleSumForColumn]" data-type="config.allOptions[column].type" class="ng-isolate-scope"></span>
            </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-controller="TableFooterController" class="ng-scope">
                <span et-change="totals[visibleSumForColumn]" data-type="config.allOptions[column].type" class="ng-isolate-scope"></span>
            </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-controller="TableFooterController" class="ng-scope">
                <span et-change="totals[visibleSumForColumn]" data-type="config.allOptions[column].type" class="ng-isolate-scope"></span>
            </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-controller="TableFooterController" class="ng-scope">
                <span et-change="totals[visibleSumForColumn]" data-type="config.allOptions[column].type" class="ng-isolate-scope"></span>
            </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-controller="TableFooterController" class="ng-scope">
                <span et-change="totals[visibleSumForColumn]" data-type="config.allOptions[column].type" class="ng-isolate-scope">$285,333.28</span>
            </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-controller="TableFooterController" class="ng-scope">
                <span et-change="totals[visibleSumForColumn]" data-type="config.allOptions[column].type" class="ng-isolate-scope neg">-$5,978.72</span>
            </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-controller="TableFooterController" class="ng-scope">
                <span et-change="totals[visibleSumForColumn]" data-type="config.allOptions[column].type" class="ng-isolate-scope neg">-1.89%</span>
            </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-controller="TableFooterController" class="ng-scope">
                <span et-change="totals[visibleSumForColumn]" data-type="config.allOptions[column].type" class="ng-isolate-scope pos">$18,944.95</span>
            </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-controller="TableFooterController" class="ng-scope">
                <span et-change="totals[visibleSumForColumn]" data-type="config.allOptions[column].type" class="ng-isolate-scope pos">6.51%</span>
            </td><!-- end ngRepeat: column in views[config.currentView].fields --><td ng-repeat="column in views[config.currentView].fields" ng-controller="TableFooterController" class="ng-scope">
                <span et-change="totals[visibleSumForColumn]" data-type="config.allOptions[column].type" class="ng-isolate-scope">$313,918.96</span>
            </td><!-- end ngRepeat: column in views[config.currentView].fields -->
            <!--<td et-change="totals.visibledayGainDollar" data-type="dollar"></td>
                            <td et-change="totals.visibledayGainPercent" data-type="percent"></td>
                            <td et-change="totals.visibletotalGainDollar" data-type="dollar"></td>
            <td et-change="totals.visibletotalGainPercent" data-type="percent"></td> -->
            <!-- <td>{{totals.visiblepositionsAndCash | number:2}}</td> -->
            <td></td>
            <td></td>
        </tr>
        <!-- <tr> -->
        <!-- <td colspan="{{views[config.currentView].fields.length + 4}}"> -->
        <!-- </td> -->
        <!-- </tr> -->
        </tfoot>
    </table>
</div>
</div><!-- end ngIf: !(groupByFilter ==='account' && accountId === 'all') -->
<!-- ngRepeat: account in accounts --><!-- ngIf: groupByFilter ==='account' && accountId === 'all' --><!-- end ngRepeat: account in accounts --><!-- ngIf: groupByFilter ==='account' && accountId === 'all' --><!-- end ngRepeat: account in accounts -->
<div class="clearfix ng-scope">
    <div class="table-key col-xs-12">
        <div class="disclaimer">15 Minute Delayed Quotes <a href="#">Upgrade to real-time quotes</a></div>
        <div class="disclaimer">*Mutual Fund and Bond prices are updated at the end of each business day.</div>
        <div class="disclaimer"><sup>â€ </sup> Lot Edited by Client</div>
        <div class="disclaimer"><sup>â€¡</sup> Lot Edited by Firm</div>
        <div class="disclaimer"><span class="in-the-money" style="display: inline-block; width: 10px; height: 10px"></span> = Option in the money</div>
        <div class="disclaimer"><span class="special-event"></span> = Special Event for position</div>
    </div>
</div>

<section class="null-state-cta voffset2 ng-scope" ng-switch="config.currentView">
  <!-- ngSwitchWhen: 1 -->
  <!-- ngSwitchWhen: 2 -->
</section>

<!-- <div class="row">
    <div class="pull-right col-sm-auto">
      <label for="streaming">Streaming</label>
      <et-toggle class="btn-group-sm" style="width:auto !important; margin-bottom: 0" ng-model="streaming" segments="[{value:false,text:'Off'},{value:true,text:'On'}]"></et-toggle>
    </div>
</div> -->
<!-- ngInclude: 'modules/portfolio/views/partials/open-orders.client.view.html' --><div class="voffset3 ng-scope" ng-include="'modules/portfolio/views/partials/open-orders.client.view.html'"><div class="clearfix ng-scope">
    <div class="open-orders" id="open-orders">
  <div class="row">
      <span class="col-xs-12 col-sm-auto" ng-click="filters.showOpenOrders = !filters.showOpenOrders">
        <span class="secondary et-icon-chevron-right" ng-class="{rotate:filters.showOpenOrders}">Open Orders
        <span class="badge ng-binding">6</span>
    </span>
      <!-- <span class="secondary" ng-show="filters.openOrders">{{filters.openOrders}} Open Orders</span> -->
      <!-- <span class="et-icon-chevron-right after" ng-class="{rotate:filters.showOpenOrders}"></span> -->
      <!-- <span ng-show="showOpenOrders" class="et-icon-chevron-up after"></span> -->
      </span>
      <!--    <div class="col-xs-6 col-sm-auto form-control-static">
    <a ng-show="filters.openOrders" ng-click="filters.openOrders=''">Show all open orders</a>
      </div> -->
            <div class="col-xs-6 col-sm-auto form-control-static">
                <!-- <a class="et-icon-level-up after" ng-show="filters.openOrders" scroll-to="{{filters.openOrders}}-position">Back</a> -->
            </div>
            <!-- <div class="col-xs-12 col-sm-auto"> -->
      <!-- </div> -->
  </div>
  <!-- ngIf: filters.showOpenOrders -->
    </div>
</div>
</div>
<!-- <div class="clearfix voffset3">
  <div class="panel panel-info">
      <div class="panel-body">
        <div class="col-xs-12 col-sm-auto pull-right">
      <a href="" class="btn btn-default">Gains & Losses</a>
      <a href="" class="btn btn-default">Transaction History</a>
        </div>
        <div class="panel-title">Net closed positions today: <span class="secondary">$500.00</span></div>
    </div>
        </div>
</div> -->


<section class="research row voffset3 ng-scope">
    <div class="panel panel-default">
  <!--        <header class="panel-heading">
    <h2 class="panel-title">Research your positions</h2>
  </header> -->
        <div class="panel-body">
      <div class="col-xs-12">
    <div class="pull-right">
      <label for="sortNews">View By: </label>
        <div class="et-select-wrapper inline-block">
      <select name="sortNews" id="sortNews" ng-model="sortNews" ng-init="sortNews='date'" class="ng-pristine ng-valid">
          <option value="date">Most Recent</option>
          <option value="symbol">Symbol</option>
      </select>
                    </div>
                </div>
    <header class="panel-heading">
        <h5 class="panel-title">Portfolio News</h5>
    </header>
    <div class="panel-body">
          <!-- ngIf: sortNews==='date' --><!-- ngInclude: 'modules/portfolio/views/partials/recent-news.client.view.html' --><div ng-if="sortNews==='date'" ng-include="'modules/portfolio/views/partials/recent-news.client.view.html'" class="ng-scope"><ul class="list-news list-group ng-scope">
  <!-- ngRepeat: article in portfolioNews | limitTo: 10 | orderBy: sortNews --><li class="list-group-item ng-scope ng-binding" ng-repeat="article in portfolioNews | limitTo: 10 | orderBy: sortNews" ng-controller="StoryController">
      <!-- TODO: create a new controller for the article scope, fetch the article story inside that -->
      <!-- {{article}} -->
      
      <a class="symbol ng-binding" href="">P</a>
      <div class="headline">
    <div>
        <a class="ng-binding">MW Pandora Media's stock price target raised to $22 from $18 at Nomura</a>
    </div>
    <div ng-init="fetchStory(article.article)" class="ng-binding"> MW Pandora Media's stock price target raised to $22 from $18 at Nomura   Sep 22, 2015 10:27:00 (ET) 
            
 ...</div>
    <time datetime="article.time" class="ng-binding">10:27 AM ET 09/22/15</time>
      </div>
      <span class="source ng-binding">MarketWatch.com</span>
  </li><!-- end ngRepeat: article in portfolioNews | limitTo: 10 | orderBy: sortNews --><li class="list-group-item ng-scope ng-binding" ng-repeat="article in portfolioNews | limitTo: 10 | orderBy: sortNews" ng-controller="StoryController">
      <!-- TODO: create a new controller for the article scope, fetch the article story inside that -->
      <!-- {{article}} -->
      
      <a class="symbol ng-binding" href="">GM</a>
      <div class="headline">
    <div>
        <a class="ng-binding">MW Volkswagen peers' stocks suffering collateral damage</a>
    </div>
    <div ng-init="fetchStory(article.article)" class="ng-binding"> MW Volkswagen peers' stocks suffering collateral damage   Sep 22, 2015 10:11:00 (ET) 
            
  Volkswagen AG's (VOW.XE) aren't the only ones suffering collateral damage from the German car maker's emission scandal, . Shares of General Motors Co. (GM) dropped 2.7%, Ford Motor Co. (F) shed 3%, Fiat Chyrsler Automo...</div>
    <time datetime="article.time" class="ng-binding">10:11 AM ET 09/22/15</time>
      </div>
      <span class="source ng-binding">MarketWatch.com</span>
  </li><!-- end ngRepeat: article in portfolioNews | limitTo: 10 | orderBy: sortNews --><li class="list-group-item ng-scope ng-binding" ng-repeat="article in portfolioNews | limitTo: 10 | orderBy: sortNews" ng-controller="StoryController">
      <!-- TODO: create a new controller for the article scope, fetch the article story inside that -->
      <!-- {{article}} -->
      
      <a class="symbol ng-binding" href="">GM</a>
      <div class="headline">
    <div>
        <a class="ng-binding">MW General Motors' stock drops 2.5% in premarket trade</a>
    </div>
    <div ng-init="fetchStory(article.article)" class="ng-binding"> MW General Motors' stock drops 2.5% in premarket trade   Sep 22, 2015 08:14:00 (ET) 
            
 ...</div>
    <time datetime="article.time" class="ng-binding">08:14 AM ET 09/22/15</time>
      </div>
      <span class="source ng-binding">MarketWatch.com</span>
  </li><!-- end ngRepeat: article in portfolioNews | limitTo: 10 | orderBy: sortNews --><li class="list-group-item ng-scope ng-binding" ng-repeat="article in portfolioNews | limitTo: 10 | orderBy: sortNews" ng-controller="StoryController">
      <!-- TODO: create a new controller for the article scope, fetch the article story inside that -->
      <!-- {{article}} -->
      
      <a class="symbol ng-binding" href="">FB</a>
      <div class="headline">
    <div>
        <a class="ng-binding">MW UPDATE: 16 'sharing economy' companies that can make you money today</a>
    </div>
    <div ng-init="fetchStory(article.article)" class="ng-binding"> MW UPDATE: 16 'sharing economy' companies that can make you money today   Sep 22, 2015 08:00:00 (ET) 
            
  By Philip van Doorn, MarketWatch 
            
  You can't buy Uber shares, but publicly traded companies are already benefiting from similar trends 
            
  I wish I could buy stock in Uber. 
  ...</div>
    <time datetime="article.time" class="ng-binding">08:00 AM ET 09/22/15</time>
      </div>
      <span class="source ng-binding">MarketWatch.com</span>
  </li><!-- end ngRepeat: article in portfolioNews | limitTo: 10 | orderBy: sortNews --><li class="list-group-item ng-scope ng-binding" ng-repeat="article in portfolioNews | limitTo: 10 | orderBy: sortNews" ng-controller="StoryController">
      <!-- TODO: create a new controller for the article scope, fetch the article story inside that -->
      <!-- {{article}} -->
      
      <a class="symbol ng-binding" href="">AAPL</a>
      <div class="headline">
    <div>
        <a class="ng-binding">MW Apple tops stock-buyback list even as repurchases shrink</a>
    </div>
    <div ng-init="fetchStory(article.article)" class="ng-binding"> MW Apple tops stock-buyback list even as repurchases shrink   Sep 21, 2015 17:45:00 (ET) 
            
  By Sue Chang, MarketWatch 
            
  Apple bought $10 billion of its own stock in second quarter, FactSet reports 
            
  Apple Inc. (AAPL) topped the list of biggest buybacks in the second quarter, re...</div>
    <time datetime="article.time" class="ng-binding">05:45 PM ET 09/21/15</time>
      </div>
      <span class="source ng-binding">MarketWatch.com</span>
  </li><!-- end ngRepeat: article in portfolioNews | limitTo: 10 | orderBy: sortNews --><li class="list-group-item ng-scope ng-binding" ng-repeat="article in portfolioNews | limitTo: 10 | orderBy: sortNews" ng-controller="StoryController">
      <!-- TODO: create a new controller for the article scope, fetch the article story inside that -->
      <!-- {{article}} -->
      
      <a class="symbol ng-binding" href="">AAPL</a>
      <div class="headline">
    <div>
        <a class="ng-binding">MW Some iPhone 6s deliveries may be delayed during Pope visit</a>
    </div>
    <div ng-init="fetchStory(article.article)" class="ng-binding"> MW Some iPhone 6s deliveries may be delayed during Pope visit   Sep 21, 2015 16:14:00 (ET) 
            
  If you live in New York or Philadelphia, you may not be getting your pre-ordered iPhone 6s or 6s Plus on time this weekend. That's because Apple Inc. (AAPL) carrier UPS (UPS) is temporarily cancelling all pickups...</div>
    <time datetime="article.time" class="ng-binding">04:14 PM ET 09/21/15</time>
      </div>
      <span class="source ng-binding">MarketWatch.com</span>
  </li><!-- end ngRepeat: article in portfolioNews | limitTo: 10 | orderBy: sortNews --><li class="list-group-item ng-scope ng-binding" ng-repeat="article in portfolioNews | limitTo: 10 | orderBy: sortNews" ng-controller="StoryController">
      <!-- TODO: create a new controller for the article scope, fetch the article story inside that -->
      <!-- {{article}} -->
      
      <a class="symbol ng-binding" href="">AAPL</a>
      <div class="headline">
    <div>
        <a class="ng-binding">MW Apple ends up 1.6% to lead Dow gainers at the close</a>
    </div>
    <div ng-init="fetchStory(article.article)" class="ng-binding"> MW Apple ends up 1.6% to lead Dow gainers at the close   Sep 21, 2015 16:05:00 (ET) 
            
 ...</div>
    <time datetime="article.time" class="ng-binding">04:05 PM ET 09/21/15</time>
      </div>
      <span class="source ng-binding">MarketWatch.com</span>
  </li><!-- end ngRepeat: article in portfolioNews | limitTo: 10 | orderBy: sortNews --><li class="list-group-item ng-scope ng-binding" ng-repeat="article in portfolioNews | limitTo: 10 | orderBy: sortNews" ng-controller="StoryController">
      <!-- TODO: create a new controller for the article scope, fetch the article story inside that -->
      <!-- {{article}} -->
      
      <a class="symbol ng-binding" href="">AAPL</a>
      <div class="headline">
    <div>
        <a class="ng-binding">MW Apple releases first major watch update after delay</a>
    </div>
    <div ng-init="fetchStory(article.article)" class="ng-binding"> MW Apple releases first major watch update after delay   Sep 21, 2015 15:19:00 (ET) 
            
  Apple Inc. (AAPL) released the first major software update for Apple Watch on Monday, after postponing the launch last week due to system bugs. WatchOS2, which was supposed to hit alongside Apple's new iOS 9 mobile oper...</div>
    <time datetime="article.time" class="ng-binding">03:19 PM ET 09/21/15</time>
      </div>
      <span class="source ng-binding">MarketWatch.com</span>
  </li><!-- end ngRepeat: article in portfolioNews | limitTo: 10 | orderBy: sortNews --><li class="list-group-item ng-scope ng-binding" ng-repeat="article in portfolioNews | limitTo: 10 | orderBy: sortNews" ng-controller="StoryController">
      <!-- TODO: create a new controller for the article scope, fetch the article story inside that -->
      <!-- {{article}} -->
      
      <a class="symbol ng-binding" href="">AAPL</a>
      <div class="headline">
    <div>
        <a class="ng-binding">MW UPDATE: Apple electric car targets 2019 rollout, Wall Street Journal sources say</a>
    </div>
    <div ng-init="fetchStory(article.article)" class="ng-binding"> MW UPDATE: Apple electric car targets 2019 rollout, Wall Street Journal sources say   Sep 21, 2015 14:15:00 (ET) 
            
  By Daisuke Wakabayashi 
            
  Automotive ambition is a 'committed project' for iPhone maker 
            
  Apple Inc. is accelerating efforts to build an electric car, designating ...</div>
    <time datetime="article.time" class="ng-binding">02:15 PM ET 09/21/15</time>
      </div>
      <span class="source ng-binding">MarketWatch.com</span>
  </li><!-- end ngRepeat: article in portfolioNews | limitTo: 10 | orderBy: sortNews --><li class="list-group-item ng-scope ng-binding" ng-repeat="article in portfolioNews | limitTo: 10 | orderBy: sortNews" ng-controller="StoryController">
      <!-- TODO: create a new controller for the article scope, fetch the article story inside that -->
      <!-- {{article}} -->
      
      <a class="symbol ng-binding" href="">AAPL</a>
      <div class="headline">
    <div>
        <a class="ng-binding">MW Samsung 'evaluating trends' in reference to a Galaxy installment plan</a>
    </div>
    <div ng-init="fetchStory(article.article)" class="ng-binding"> MW Samsung 'evaluating trends' in reference to a Galaxy installment plan   Sep 21, 2015 13:55:00 (ET) 
            
  Samsung Electronics  told MarketWatch it "continuously evaluates trends and assess business growth opportunities" in reference to whether it is planning an installment payment plan for its smartphones ...</div>
    <time datetime="article.time" class="ng-binding">01:55 PM ET 09/21/15</time>
      </div>
      <span class="source ng-binding">MarketWatch.com</span>
  </li><!-- end ngRepeat: article in portfolioNews | limitTo: 10 | orderBy: sortNews -->
</ul>
</div><!-- end ngIf: sortNews==='date' -->
          <!-- ngIf: sortNews==='symbol' -->
        <div class="clearfix voffset2">
      <div class="col-xs-6">
          <a href="#">More Portfolio News</a>
      </div>
      <div class="col-xs-6 text-right">
          <input type="checkbox" class="">
          <label for="subscribe">Subscribe to Portfolio News Digest?</label><!-- /input-group -->
      </div>
        </div>
                </div>
            </div>
      <!-- <div class="col-xs-12 col-md-5 col-lg-4">
      <div class="panel">
          <header class="panel-heading">
            <h5 class="panel-title">Events</h5>
          </header>
          <div class="panel-body">
            <ul class="list-news">
          <li class="list-group-item clearfix" ng-repeat="earningReport in earnings.EarningsResponse.EarningsDetail">
            <a class="symbol" href="">{{earningReport.product.symbol}}</a>
            <div>
                <span class="col-xs-auto">Quarterly Earnings Report</span>
                <ul class="list-unstyled col-xs-4">
                  <li class="label">Low</li>
                  <li>{{earningReport.Period[1].low}}</li>
                </ul>
                <ul class="list-unstyled col-xs-4">
                  <li class="label">Average</li>
                  <li>{{earningReport.Period[1].estMean}}</li>
                </ul>
                <ul class="list-unstyled col-xs-4">
                  <li class="label">High</li>
                  <li>{{earningReport.Period[1].high}}</li>
                </ul>
                <p class="disclaimer col-xs-8">{{earningReport.Period[0].dateTime | date: "MM/dd/yy hh:mm a"}}</p>
            </div>
            <div>
                <span class="et-icon-calendar" style="font-size: 1.5em; color: #888;"></span>
            </div>
          </li>
            </ul>
          </div>
          </div>
      </div> -->
  </div>
    </div>
</section>
</div></div>
    </section>
</div>
</section>

    </section>
  </section>
      </main>
    </div>
    <script title="jQuery from the CDN" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script title="Bootstrap CDN" src="http//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
    <script src="js/tearsheet.js"></script>
    <script src="js/spin.min.js"></script>
    <script src="js/jquery.spin.js"></script>
    <script>
      $('#preview1').spin()

      //Remove spinner upon click
      $('.preview').click(function () {
        $(this).spin(false)
      });
    </script>
  </body>
</html>